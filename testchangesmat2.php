<?php
//fingerp




//takie tam 
function var_dump_spec( $datas, $bPre=true ){
    if ( $_GET['verbose'] == 1){
        if ( $bPre ) echo "<pre>";
        var_dump( $datas );
        if ( $bPre ) echo "</pre>";
    }
}



function getFileJsonToArray( $filename ){
    $json = str_replace( "],]", "]]", file_get_contents($filename));
    $aResult = json_decode($json);
   
//    var_dump_spec($aResult);
    
    
    $aReturn = array();
    $limit = 20; // 10sek
//    $limit = 30; // 6sek  
//    $limit = 10; // 6sek
    
    
    $klatka = ( abs($_REQUEST['deltaT'])*5 );
    $start = intval($klatka - 5);
    $start < 0 ? $start = 0 : $start=$start;
    $koniec = intval($klatka + 5);
//    $start = intval($_REQUEST['tura']) * 18; //0:0 1:30
//    $koniec = (intval($_REQUEST['tura'])+1) * $limit; //0:50 //1:100
//    var_dump( $klatka, $start, $koniec, "<br>" );
    for ( $key=$start; $key<$koniec; $key++){
        $fp = $aResult[$key];
        $vfakedall = $fp[0];
        $vfakedcenter = $fp[1];
        
//        var_dump_spec( $fp );
        $oFP = new FrameFingerprintMarcin();
        $oFP->pt = new Cords($vfakedall[0][0], $vfakedall[0][1]);
        $oFP->cwiartka = $vfakedall[1];
        $oFP->dlugosc = $vfakedall[2];
        $oFP->ptC = new Cords($vfakedcenter[0][0], $vfakedcenter[0][1]);
        $oFP->cwiartkaC = $vfakedcenter[1];
        $oFP->dlugoscC = $vfakedcenter[2];
        
        $oFP->sumaKP = $fp[2];
        $oFP->grayVector = $fp[7];
        $oFP->grayCwiartka = $fp[8];
        
        $oFP->src_q = $fp[10];
        $oFP->src_qp = $fp[11];
        
        
        
        if ( $fp[4] > -1 ){
               $oFP->setColors(array("b"=>$fp[3],"g"=>$fp[4],"r"=>$fp[5]/*,"y"=>$fp[6]*/));
        }
        
//        var_dump_spec( $oFP );
        
        $aReturn[] = $oFP;
    }
    
    return $aReturn;
}


    
    
    
    
    
    
    function changeCountToDif( &$aProbka, $src, $out ){
        $lastval = 0;
        foreach ( $aProbka[$src] AS $key=>$kpc ){
            if ( $key == 0 ){ $aProbka[$out][0] = "s";  }
            else{
                $dif = abs($kpc - $lastval);
                if ( $dif >= 2 ){
                    if ( $lastval == 0 ){
                        $aProbka[$out][$key] = -1;
                    }
                    else{
                        $difproc = abs($kpc / $lastval);
                        if ( $difproc >= 1.50 ){ $aProbka[$out][$key] = 1; }
                        elseif ( $difproc <= 0.50 ){ $aProbka[$out][$key] = -1; }
                        else { $aProbka[$out][$key] = 0; }
                    }
                }
                else{
                    $aProbka[$out][$key] = 0;
                }
            }
            $lastval = $kpc;
        }
    }
    
    function getProbka( $aBadana, $frame_s, $frame_e ){
        $aProbka = array();
        $aProbka["kp"] = array_slice($aBadana[0], $frame_s, $frame_e); 
        changeCountToDif( $aProbka, "kp", "kpDif" ); 
//        $aProbka["kpT"] = array_slice($aBadana[1], $frame_s, $frame_e);
//        changeCountToDif( $aProbka, "kpT", "kpTDif" );
//        $aProbka["kpB"] = array_slice($aBadana[2], $frame_s, $frame_e);
//        changeCountToDif( $aProbka, "kpB", "kpBDif" );
//        $aProbka["kpL"] = array_slice($aBadana[3], $frame_s, $frame_e);
//        changeCountToDif( $aProbka, "kpL", "kpLDif" );
//        $aProbka["kpR"] = array_slice($aBadana[4], $frame_s, $frame_e);
//        changeCountToDif( $aProbka, "kpR", "kpRDif" );
        $aProbka["q"] = array_slice($aBadana[1], $frame_s, $frame_e);
        $aProbka["qstr"] = array_slice($aBadana[2], $frame_s, $frame_e);
        $aProbka["colorB"] = array_slice($aBadana[3], $frame_s, $frame_e);
        $aProbka["colorG"] = array_slice($aBadana[4], $frame_s, $frame_e);
        $aProbka["colorR"] = array_slice($aBadana[5], $frame_s, $frame_e);
        
        $aProbka["qc"] = array_slice($aBadana[6], $frame_s, $frame_e);
        $aProbka["qcstr"] = array_slice($aBadana[7], $frame_s, $frame_e);
        
        
        $aProbka["qcolorB"] = array_slice($aBadana[8], $frame_s, $frame_e);
        $aProbka["qcolorG"] = array_slice($aBadana[9], $frame_s, $frame_e);
        $aProbka["qcolorR"] = array_slice($aBadana[10], $frame_s, $frame_e);
        
        $aProbka["qcolorBstr"] = array_slice($aBadana[11], $frame_s, $frame_e);
        $aProbka["qcolorGstr"] = array_slice($aBadana[12], $frame_s, $frame_e);
        $aProbka["qcolorRstr"] = array_slice($aBadana[13], $frame_s, $frame_e);
        
        return $aProbka;
    }
    //START
    
    
    
    
    
    function testFilmRanges( $aKP, $aProbka, $probeFramesCount ){
        $aKPCombination = array();
        for( $i=0; $i<count($aKP)-$probeFramesCount+1; $i++ ){
            $aSliced = array_slice( $aKP, $i, $probeFramesCount );;
            $aKPCombination[$i] = $aSliced;
        }
        
        
        $aKPCombinationDifs = array();
        $aKPCombinationDifsSum = array();
        $aKPCombinationDifsBit = array();
        $aKPCombinationDifsBitSum = array();
        foreach( $aKPCombination AS $key=>$aCombo ){
            $aDifs = array();
            $aBits = array();
            foreach( $aCombo AS $ii=>$kp ){
                $abs = abs($aProbka['kp'][$ii] - $kp);
//                           printf("\n kp: $kp - ap:". $aProbka['kp'][$ii]);
                $aDifs[] = $abs;
//                var_dump_spec( $kp );
//                var_dump_spec( $kp/2 );
                if ( $abs <= $kp/2 ){
                    $aBits[] = 1;
                }
            }
            $aKPCombinationDifs[$key] = $aDifs;
            $aKPCombinationDifsSum[$key] = array_sum($aDifs);
            $aKPCombinationDifsBit[$key] = $aBits;
            $aKPCombinationDifsBitSum[$key] = array_sum($aBits);
        }
        
        $aKPCombinationDifsBitSumMore10 = array();
        foreach( $aKPCombinationDifsBitSum AS $key=>$val){
            if ( $val >= $probeFramesCount/2 ){
                $aKPCombinationDifsBitSumMore10[] = array("s"=>$key, "e"=>$key+$probeFramesCount, "sila"=>$val);
            }
        }
        
        
//        var_dump_spec( $aKPCombinationDifs );
        //zwroc zakresy bo ja ksie zakladki robia to poszerzamy tablice
        $aTMP = array();
        
        foreach( $aKPCombinationDifsBitSumMore10 AS $key=>$aA){
            for( $i=$aA['s']; $i<=$aA['e']; $i++ ){
                $aTMP[] = $i;
            }
        }
        
        $aTMP = array_unique($aTMP);
        
        $aRanges = array();
        $lastNum = -666;
        $count = -1;
        foreach( $aTMP AS $key=>$frameNum){
            if ( $lastNum == $frameNum - 1 ){
                $aRanges[$count]["k"] = $frameNum;
            }
            else{
                $count++;
                $aRanges[$count] = array("s"=>$frameNum, "k"=>$frameNum );
            }
            $lastNum = $frameNum;
        }
        
        var_dump_spec($aRanges);
        
    }
  
    
    //T/B
    function testFilmRanges2( $bKP, $aProbka, $probeFramesCount, $filmid ){
        $aKPCombination = array();
        
        $aT = $bKP[1];
        $aB = $bKP[2];
        
        
        
        for( $i=0; $i<count($aT)-$probeFramesCount+1; $i++ ){
            $aSlicedT = array_slice( $aT, $i, $probeFramesCount );
            $aSlicedB = array_slice( $aB, $i, $probeFramesCount );
            $aKPCombination[$i]["t"] = $aSlicedT;
            $aKPCombination[$i]["b"] = $aSlicedB;
        }
        
//        var_dump_spec( $aKPCombination );
//        exit;
        
        $aKPCombinationDifs = array();
        $aKPCombinationDifsSum = array();
        $aKPCombinationDifsBit = array();
        $aKPCombinationDifsBitSum = array();
        for ( $f=0; $f<count($aKPCombination); $f++){
            $aComboT = $aKPCombination[$f]['t'];
            $aComboB = $aKPCombination[$f]['b'];
//        foreach( $aKPCombination AS $key=>$aCombo ){
            $aDifs = array();
            $aBits = array();
            
//            var_dump_spec( $aComboT );
//            var_dump_spec( $aComboB );
            foreach( $aComboT AS $ii=>$kp ){
                //0=>1
                $aComboT[$ii] = $aComboT[$ii] == 0 ? 1 : $aComboT[$ii];
                $aComboB[$ii] = $aComboB[$ii] == 0 ? 1 : $aComboB[$ii];
                $aProbka['kpT'][$ii] = $aProbka['kpT'][$ii] == 0 ? 1 : $aProbka['kpT'][$ii];
                $aProbka['kpB'][$ii] = $aProbka['kpB'][$ii] == 0 ? 1 : $aProbka['kpB'][$ii];
                
                $prop = $aComboT[$ii] / $aComboB[$ii];
                $propC = $aProbka['kpT'][$ii] / $aProbka['kpB'][$ii];
//                if ( $filmid == 1 ){
//                    var_dump_spec( $filmid ."(".$f . ")=>" . $prop . " ??? " . $propC );
//                }
                
                if ( $prop >= 5 && $propC >= 5 ){
//                    var_dump_spec(">5>5");
                    $aBits[] = 1;
                }
                else if ( $prop > 5  ){
                    $dif = abs( $prop - $propC );
                    $maxdif = $prop/2;
                    if ( $dif <= $maxdif ){
                        $aBits[] = 1;
                    }
//                                     if ( $filmid == 1 ) { var_dump_spec($filmid ."(".$f . ")=>$prop / $propC => dif: $dif ?? $maxdif"); }
                }
                else if ( $prop <= 5 && $prop > 2 ){
                    $dif = abs( $prop - $propC );
                    $maxdif = $prop/2;
                    if ( $dif <= $maxdif ){
                        $aBits[] = 1;
                    }
//                    if ( $filmid == 1 ) { var_dump_spec($filmid ."(".$f . ")=>$prop / $propC => dif: $dif ?? $maxdif"); }
                }
                else if ( $prop <= 2 && $prop > 1.5 ){
                    $dif = abs( $prop - $propC );
                    $maxdif = $prop/2;
                    if ( $dif <= $maxdif ){
                        $aBits[] = 1;
                    }
//                    if ( $filmid == 0 ) { var_dump_spec($filmid ."(".$f . ")=>$prop / $propC => dif: $dif ?? $maxdif"); }
//                                        if ( $filmid == 1 ) { var_dump_spec($filmid ."(".$f . ")=>$prop / $propC => dif: $dif ?? $maxdif"); }
                }
                else{
//                    if ( $filmid == 1 ) { var_dump_spec($filmid ."(".$f . ")=>$prop / $propC => dif: $dif ?? $maxdif"); }
                }
                
//                else{
                
//                }
//
//                if ( ($prop >= 3 && $prop < 5) && ($propC >= 3 && $propC < 5) ){
//                    if ( $filmid == 1 ) { var_dump_spec($filmid ."(".$f . ")=>(3,5)"); }
//                    $aBits[] = 1;
//                }
//                if ( ($prop >= 1 && $prop < 3) && ($propC >= 1 && $propC < 3) ){
//                    if ( $filmid == 1 ) { var_dump_spec($filmid ."(".$f . ")=>(1,3)"); }
//                    $aBits[] = 1;
//                }
//                
//                $abs = abs($aProbka['kp'][$ii] - $kp);
//                //                           printf("\n kp: $kp - ap:". $aProbka['kp'][$ii]);
//                $aDifs[] = $abs;
//                //                var_dump_spec( $kp );
//                //                var_dump_spec( $kp/2 );
//                if ( $abs <= $kp/2 ){
//                    $aBits[] = 1;
//                }
            }
            $aKPCombinationDifs[$f] = $aDifs;
            $aKPCombinationDifsSum[$f] = array_sum($aDifs);
            $aKPCombinationDifsBit[$f] = $aBits;
            $aKPCombinationDifsBitSum[$f] = array_sum($aBits);
        }
        
        if ( $filmid == 1 ){
//            var_dump_spec($aKPCombinationDifsBitSum);
        }
        
        $aKPCombinationDifsBitSumMore10 = array();
        foreach( $aKPCombinationDifsBitSum AS $key=>$val){
            if ( $val >= $probeFramesCount/2 ){
                $aKPCombinationDifsBitSumMore10[] = array("s"=>$key, "e"=>$key+$probeFramesCount, "sila"=>$val);
            }
        }
        
        
        //        var_dump_spec( $aKPCombinationDifs );
        //zwroc zakresy bo ja ksie zakladki robia to poszerzamy tablice
        $aTMP = array();
        
        foreach( $aKPCombinationDifsBitSumMore10 AS $key=>$aA){
            for( $i=$aA['s']; $i<=$aA['e']; $i++ ){
                $aTMP[] = $i;
            }
        }
        
        $aTMP = array_unique($aTMP);
        
        $aRanges = array();
        $lastNum = -666;
        $count = -1;
        foreach( $aTMP AS $key=>$frameNum){
            if ( $lastNum == $frameNum - 1 ){
                $aRanges[$count]["k"] = $frameNum;
            }
            else{
                $count++;
                $aRanges[$count] = array("s"=>$frameNum, "k"=>$frameNum );
            }
            $lastNum = $frameNum;
        }
        
        return $aRanges;
    }

    
    
    
    function getCorrectRangesCombos( $aCombosFilm, $danezprobki, $probeFramesCount, $delta = 0 ){
        $aRangesCorrectCombos = array();  
        for ( $set=0; $set<count($aCombosFilm); $set++){
            $aCombo = $aCombosFilm[$set];
            $aBits = array();
            $sum = array_sum($aCombo);
            $probsum = array_sum($danezprobki);
            foreach( $aCombo AS $ii=>$kp ){
                if ( $kp == $danezprobki[$ii]){
                    $aBits[$ii] = 1;
                }
            }
            
            if ( array_sum( $aBits ) >= $probeFramesCount - $delta  ){
                $aRangesCorrectCombos[$set] = 1;
//                $aRangesCorrectCombos[] = array("s"=>$set, "k"=>$set+$probeFramesCount );
            }
        }
        return $aRangesCorrectCombos;
    }
    
//    function prepsreProbki(){
//        $aBadanaProbka = array();
//    $aBadanaProbka[0] = json_decode("[[29,29,29,29,29,29,27,26,12,15,25,24,23,24,24,24,25,12,24,29,31,35,36,17,36,35,31,32,31,29],[1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,1,16,1,16,16,16,16,16,16],[1097,1108,1124,1097,1114,1082,1044,985,493,550,923,900,844,897,930,872,907,440,891,1052,1113,1299,1447,686,1426,1390,1220,1196,1139,1038],[5,6,6,5,6,6,6,6,6,4,5,5,5,5,5,5,5,6,5,4,5,4,4,5,4,3,4,4,3,3],[68,69,69,69,66,66,66,65,63,67,64,64,65,65,65,65,64,59,59,57,56,56,55,52,51,51,52,52,52,53],[6,6,6,6,10,10,9,9,9,10,10,10,10,9,9,9,9,8,11,11,9,10,10,10,12,13,12,12,13,12]]");
//    $aBadanaProbka[1] = json_decode("["
//            . "[4,3,5,5,5,4,5,7,8,9,10,13,19,18,20,21,24,28,25,15,18,23,22,20,21,22,22,24,26,26],"
//            . "[2,16,1,2,1,2,16,15,15,15,15,14,15,15,15,15,15,15,15,16,15,15,15,15,15,15,15,15,15,15],"
//            . "[24,45,67,83,55,58,100,173,270,358,445,579,903,875,976,972,1105,1261,1065,602,782,932,927,881,922,941,913,963,1025,1010],"
//            . "[2,2,2,1,1,2,2,2,1,1,2,2,3,4,3,4,6,6,6,6,5,6,7,6,6,7,7,7,7,6],"
//            . "[84,83,84,83,83,81,79,70,58,61,66,64,65,64,63,62,61,59,58,58,60,57,56,57,57,57,56,55,55,54],"
//            . "[0,0,0,0,0,0,1,3,5,6,7,8,9,9,10,11,12,13,14,13,14,14,14,14,14,14,14,15,15,16]]");
//    
//    $aBadanaProbka[2] = json_decode("[[6,5,7,6,4,3,1,2,2,3,3,3,3,4,6,7,8,8,6,8,11,7,4,2,3,2,0,1,1,1],"
//            . "[15,15,16,16,16,16,15,16,16,16,1,2,2,2,2,2,16,16,3,1,16,2,3,16,16,14,16,15,15,16],"
//            . "[248,209,258,220,151,89,62,57,55,70,80,99,94,84,98,86,115,89,119,143,236,171,126,28,82,64,12,29,34,44],"
//            . "[0,0,0,0,0,0,0,0,1,1,2,3,5,6,5,6,4,5,3,3,4,4,4,3,3,4,5,5,3,1],[12,6,8,9,8,10,11,13,13,11,12,10,11,15,14,14,12,12,11,10,10,11,11,11,13,20,26,32,30,26],"
//            . "[9,9,9,9,9,8,8,9,10,13,14,15,15,14,15,14,14,13,12,12,11,11,9,9,8,7,5,6,6,7]"
//            . "]");
//    
//    $aBadanaProbka[3] = json_decode("["
//            . "[8,6,10,9,9,8,9,8,8,9,6,7,7,9,10,8,3,5,6,8,7,7,7,7,7,8,7,7,6,6],"
//            . "[14,14,15,14,14,13,13,14,15,14,14,14,14,14,14,14,14,14,14,14,14,13,13,14,14,13,13,13,14,13],"
//            . "[215,167,189,214,248,267,285,230,236,264,209,266,271,327,326,311,128,167,241,334,298,255,282,269,285,319,236,250,230,235],"
//            . "[9,8,10,10,8,9,9,11,10,9,10,9,10,9,9,12,13,10,9,10,11,12,12,12,11,9,10,9,7,6],"
//            . "[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"
//            . "[10,10,10,10,11,10,10,9,9,9,8,9,8,8,8,7,6,7,7,6,6,6,6,6,6,6,6,7,8,8]]");
//    
//    
//    $aBadanaProbka[4] = json_decode("[[0,2,4,5,5,5,5,6,6,5,5,4,4,5,5,5,8,11,9,10,8,6,6,6,5,5,6,6,4,4],"
//            . "[16,14,16,11,13,13,13,12,12,11,12,12,12,13,14,14,13,13,13,13,6,3,4,4,4,4,1,2,8,6],"
//            . "[11,19,46,34,85,59,51,77,87,77,104,57,92,103,83,96,140,258,151,69,62,72,55,112,76,47,85,81,40,47],"
//            . "[10,11,11,11,9,11,14,15,15,17,17,14,11,12,14,14,14,14,14,12,11,9,8,11,12,19,19,15,13,13],"
//            . "[31,32,32,33,32,32,32,33,33,34,34,33,32,32,33,34,34,34,33,32,30,27,26,28,33,34,35,36,39,41],[1,1,1,1,1,1,2,2,2,1,1,1,2,2,2,2,2,2,2,2,3,4,6,7,5,4,4,3,1,1]"
//            . "]");
//    
//    $aBadanaProbka[5] = json_decode("[[0,1,1,1,14,36,17,39,44,43,40,44,43,44,44,46,45,43,43,46,21,46,28,46,46,47,47,41,44,42],"
//            . "[3,3,15,16,1,16,1,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,16,16,16,16,16,16,16,16],"
//            . "[12,3,5,11,538,1330,619,1425,1620,1611,1438,1644,1515,1647,1561,1708,1618,1573,1619,1629,770,1634,1034,1643,1620,1665,1632,1417,1539,1507],"
//            . "[75,75,73,71,35,35,35,35,36,36,35,35,35,35,34,35,34,35,37,36,36,35,34,35,35,35,35,35,35,34],"
//            . "[0,0,0,0,38,38,40,38,39,38,38,38,38,37,37,38,38,38,38,38,37,37,39,37,37,37,37,37,37,37],[2,5,6,6,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]]");
//    
//    $aBadanaProbka[6] = json_decode("[[1,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,1,1,2,1,2,2,2,2,1],"
//            . "[1,1,1,2,2,2,2,2,2,2,1,1,2,1,2,1,2,1,2,1,1,1,1,16,1,1,16,16,16,1],[58,69,72,67,67,62,64,59,55,55,60,41,38,59,63,79,71,53,59,58,70,33,44,68,33,70,69,71,76,38],"
//            . "[5,7,8,7,5,7,8,8,8,7,7,7,7,5,6,7,7,8,9,8,7,7,5,4,6,6,6,6,6,6],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"
//            . "[39,39,39,39,39,39,39,40,39,39,39,38,38,40,40,39,39,39,39,40,40,39,38,39,41,39,39,39,39,38]]");
//    
//    $aBadanaProbka[7] = json_decode("[[0,0,0,0,19,18,17,22,19,22,22,15,19,20,24,10,17,19,20,21,20,12,13,20,22,18,23,23,21,24],"
//            . "[3,4,4,5,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,2,16,16,1,16,1,1,1],"
//            . "[7,19,26,25,439,390,396,455,467,470,376,375,436,429,502,311,479,397,427,419,395,269,256,471,468,322,492,553,532,410],"
//            . "[7,7,9,8,5,17,33,43,45,45,46,46,47,46,46,49,47,44,45,45,43,46,47,45,46,46,45,45,45,45],[17,17,27,17,4,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"
//            . "[11,14,9,16,56,51,48,45,45,45,44,44,43,43,43,42,43,45,44,44,45,43,42,44,44,43,44,44,44,44]]");
//    $aBadanaProbka[8] = json_decode("[[9,20,4,4,5,4,4,4,4,4,4,4,8,9,16,17,13,17,15,14,14,14,13,13,13,12,13,13,12,6],"  
//            . "[16,1,12,12,12,12,12,12,12,12,11,12,1,1,16,1,16,1,1,16,16,16,1,1,1,1,1,1,1,2],"
//            . "[263,684,96,143,160,116,125,112,104,89,110,105,289,311,543,553,422,531,504,458,402,463,434,421,422,423,400,350,395,217],"
//            . "[2,3,33,49,49,48,63,56,55,67,55,50,2,3,2,3,3,3,3,3,3,2,2,2,2,2,1,1,1,2],"
//            . "[69,69,14,12,12,10,4,8,7,4,9,12,36,65,75,73,73,74,74,76,76,76,75,74,75,75,76,76,76,75],[5,6,4,4,4,5,3,3,3,2,2,2,5,4,6,6,6,6,5,5,5,5,5,5,5,5,5,4,4,4]]");
//    $aBadanaProbka[9] = json_decode("[[6,6,3,5,4,6,5,5,5,6,7,5,5,2,4,4,5,5,4,4,4,4,4,4,5,4,3,3,4,5],[9,9,9,9,9,8,10,10,10,11,11,11,10,9,11,12,11,12,12,10,10,10,10,11,10,10,10,10,9,9],[218,223,104,135,123,89,144,136,95,130,200,147,88,67,133,118,163,115,99,85,104,148,134,103,134,137,116,101,126,160],[7,5,3,3,3,3,2,2,2,3,3,3,3,2,2,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1],[43,44,45,45,49,46,50,49,52,55,54,47,49,45,45,50,44,42,40,45,50,43,42,39,37,37,36,41,42,43],[5,5,5,5,4,3,2,2,2,2,3,3,4,3,2,3,3,3,3,2,3,5,7,9,10,10,10,7,7,7]]");
//    
//        return $aBadanaProbka;
//    }
//    
    function preapreFilmData(){
// KP Count
// Q kp
// Q str
// Color B
// Color G
// Color R        
// Gray Q
// Gray QStr 
//
        
        
    $aFilmy = array();
//    $aFilmy[0] = json_decode("["
//            . "[35,35,35,35,35,35,33,32,30,28,28,28,28,27,28,29,28,28,29,29,31,34,38,39,41,41,40,39,37,37,36,33,31,31,30,28,27,29,28,25,23,38,37,35,34,33,34,34,35,36,37,38,37,36,35,35,36,37,37,35,33,34,34,37,37,39,39,38,38,39,38,37,35,32,31,29,27,24,24,22,21,21,20,20,19,17,16,16,15,15,16,18,20,21,20,19,18,19,18,15,17,19,20,20,20,20,19,20,20,20,19,19,20,16,13,11,9,8,8,8,8,8,8,8,8,9,9,8,8,11,14,15,14,14,12,11,13,10,10,9,10,10,8,9,9,9,10,10,11,18],"
//            . "[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,1,1,1,1,1,1,2,2,2,1,1,1,16,16,16,16,16,1,1,1,16,16,16,15,14,14,14,13,13,14,14,14,14,14,14,15,14,14,13,13,13,16,16,16,16,14,13,13,12,13,13,13,15,1,16,2,1],
//[1384,1368,1386,1376,1381,1367,1289,1238,1158,1056,1073,1077,1097,1051,1061,1115,1065,1091,1098,1036,1060,1129,1269,1386,1533,1594,1558,1479,1368,1359,1330,1250,1106,1135,1104,995,1031,1030,987,897,862,1341,1262,1253,1205,1192,1217,1149,1177,1238,1252,1301,1239,1298,1177,1283,1422,1431,1350,1273,1252,1300,1285,1451,1461,1437,1370,1335,1345,1366,1332,1377,1297,1203,1120,1081,948,911,844,748,718,735,718,686,667,648,609,516,507,518,530,601,752,753,713,663,651,695,675,628,696,738,731,703,627,673,710,716,723,697,611,622,621,428,380,334,282,249,183,239,241,234,165,177,245,225,200,180,117,199,334,367,309,103,114,115,180,197,238,246,200,139,180,115,125,98,120,97,84,185],
//[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,1,1,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,0,0,0,0,0,0,0,0,20,19,20,22,17,19,18,17,17,17,15,19,18,17,21,19,18,19,17,17,16,12],
//[73,73,73,73,73,69,69,70,69,69,69,70,70,71,71,71,70,70,68,65,63,61,59,60,59,58,56,55,56,56,56,56,56,56,55,55,55,55,56,57,57,60,61,61,61,61,61,61,61,61,60,60,60,60,60,60,60,60,60,61,61,61,60,59,58,57,58,57,57,57,57,57,57,57,58,58,58,58,58,59,60,61,61,62,63,63,64,65,65,65,64,64,63,62,62,61,60,59,57,56,55,55,55,56,55,56,57,57,56,55,53,48,45,47,50,55,62,67,70,72,74,74,75,75,76,77,77,77,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
//[9,9,9,9,9,13,13,13,13,13,12,12,12,12,12,12,12,12,12,12,12,13,10,12,12,13,14,14,14,15,14,15,15,16,16,15,16,16,15,15,14,12,12,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,12,12,12,12,12,12,13,12,12,12,12,12,12,12,12,12,13,13,12,13,13,13,12,12,12,12,12,13,14,14,14,14,14,14,14,14,14,15,16,20,23,22,22,21,17,14,13,13,12,12,11,10,10,10,10,10,48,48,44,43,46,43,40,43,41,40,43,37,41,41,40,42,41,40,42,42,42,33],
//
//[9,9,9,9,9,10,10,8,8,8,8,4,4,4,4,4,4,4,4,7,7,7,10,8,9,10,10,10,10,9,10,10,10,9,9,10,10,10,10,10,10,7,7,7,7,7,7,8,8,8,8,8,8,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,7,7,8,8,4,8,4,4,4,4,8,8,4,4,4,4,10,10,10,10,10,10,10,10,10,9,9,9,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,8,10,9,10,10,10,10,10,10,10,10,10,10,10,9,8,8,8,9,11,10,10,11,11,11,11,13,11,1,4,3,2,3,4,6,5],
//[2,2,2,2,2,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,4,6,7,7,9,10,11,11,11,11,13,12,11,12,3,3,3,3,3,3,2,2,2,2,2,2,3,4,4,4,4,4,4,3,2,2,2,2,2,2,2,2,2,2,1,1,1,1,0,1,0,0,0,0,1,1,0,0,0,0,1,1,1,4,4,4,4,4,4,3,4,4,3,4,4,4,6,7,9,9,9,9,10,8,10,9,10,9,10,11,10,10,8,4,4,3,4,3,1,1,1,63,49,36,28,39,37,38,28,40,34,28,27,11,6,17,18,20,21,21,18,21,45],
//
//[1,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,3,3,3,4,4,4,4,4,4,4,4,9,10,10,10,10,10,10,10,10,8,4,4,4,4,4,4,4,4,4,4,10,14],
//[127,127,126,126,126,107,106,106,107,109,109,107,106,102,99,101,104,107,115,126,137,146,159,190,195,200,210,213,210,208,204,201,203,204,207,208,207,208,204,202,202,190,189,189,190,190,188,189,189,190,190,190,193,193,192,193,192,192,191,191,190,189,192,197,201,204,204,206,206,205,206,206,207,206,204,202,202,199,196,192,189,183,181,175,172,170,168,165,165,168,170,176,180,184,188,191,194,195,200,203,205,204,203,201,197,198,198,196,197,205,207,184,175,169,157,146,127,115,95,70,65,63,52,49,60,58,58,59,4,4,4,4,4,4,3,4,4,1,0,0,0,0,0,0,0,0,0,0,1,15],
//[8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,8,8,8,8,8,8,9,8,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,10,10,11,12,13,13,13,13,13,14,14,14,14,14,14,16,16,15,15,16,16,1,16,2,1,2,2,4,4,5,5,7,8,7,5,1,15],
//[46,46,46,47,46,33,34,34,34,35,34,36,34,35,34,33,33,33,33,34,34,38,51,59,64,66,72,72,74,75,75,78,77,80,82,81,79,80,79,75,73,59,58,57,57,56,56,56,57,59,60,60,61,59,58,59,60,61,60,59,59,60,61,62,65,65,64,65,64,66,65,64,63,61,60,58,60,62,62,60,60,63,63,61,61,61,61,66,67,66,65,67,69,67,64,62,63,62,65,69,73,75,74,76,75,77,74,75,76,76,78,47,34,32,35,46,54,65,67,61,54,49,44,40,44,43,43,44,65,64,43,32,30,21,10,23,18,18,18,20,26,34,32,27,39,36,31,14,11,14]" 
//            . "]");



$aFilmy[0] = '{'
        . '"kpc":[35,35,35,35,35,35,33,32,30,28,28,28,28,27,28,29,28,28,29,29,31,34,38,39,41,41,40,39,37,37,36,33,31,31,30,28,27,29,28,24,23,38,37,36,34,33,34,34,35,37,37,38,37,36,35,35,36,37,37,35,33,34,34,37,37,39,39,38,38,39,38,37,35,32,31,29,27,24,24,22,21,21,20,20,19,17,16,16,15,15],'
        . '"kpq":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,1,1,1,1,1,1,1,1,1,1,1,1,1],'
        . '"kpqstr":[1384,1368,1386,1376,1381,1367,1289,1238,1158,1056,1073,1077,1097,1051,1061,1115,1065,1091,1098,1036,1060,1129,1269,1386,1533,1594,1558,1479,1368,1359,1330,1250,1106,1135,1104,995,1031,1030,987,897,862,1341,1262,1253,1205,1192,1217,1149,1177,1238,1252,1301,1239,1298,1177,1283,1422,1431,1350,1273,1252,1300,1285,1451,1461,1437,1370,1335,1345,1366,1332,1377,1297,1203,1120,1081,948,911,844,748,718,735,718,686,667,648,609,516,507,518],'
        . '"cb":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,1,1,2,2,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],'
        . '"cg":[73,73,73,73,73,69,69,70,69,69,69,70,70,71,71,71,70,70,68,65,63,61,59,60,59,58,56,55,56,56,56,56,56,56,55,55,55,55,56,57,57,61,61,61,61,61,61,61,61,61,60,60,60,60,60,60,61,60,61,61,61,61,61,59,58,57,58,57,57,57,57,57,57,57,58,58,58,58,59,59,60,61,61,62,63,63,64,65,65,65],'
        . '"cr":[9,9,9,9,9,13,13,13,13,13,12,13,12,12,12,12,12,12,12,12,12,13,10,12,12,13,14,14,14,15,14,15,15,16,16,16,16,16,15,15,14,12,12,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,12,12,12,12,12,13,13,12,12,12,13,12,12,12,12,12,13,13],'
        . '"grayq":[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,16,16,1,1,1,1,1,1,1,1,1,16,16,16,16,16,1,1,1,1,1,1,1,1,16,16,16,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],'
        . '"grayqstr":[11,11,11,11,11,14,14,14,14,14,15,15,15,15,15,15,16,16,17,17,16,14,12,11,10,9,9,8,7,6,5,4,3,3,3,3,3,3,3,4,4,13,14,14,14,15,15,15,14,14,14,14,14,14,14,14,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,16,16,16,16,15,14,14,13,13,12,11,10,9,7,5,4],'
        . '"kpqc":[16,15,15,15,15,14,14,14,1,1,1,1,16,16,16,16,1,15,16,1,16,16,16,16,16,16,16,16,16,16,16,16,16,15,16,16,16,16,16,16,16,1,1,1,1,16,1,1,1,1,1,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16,16,1,16,16,16,1,1,1,1,1,1,1,2,2,2,2,3,3,3,16,13],'
        . '"kpqcstr":[48,49,49,62,62,59,51,44,26,36,33,42,32,40,46,40,33,53,54,111,141,194,244,294,305,319,328,311,285,281,261,241,230,243,231,218,202,223,198,181,175,247,236,216,204,195,195,207,212,226,227,226,224,216,214,221,229,238,244,226,225,224,230,260,270,272,271,270,259,258,261,262,251,232,233,198,175,174,169,127,116,127,117,76,57,42,35,21,27,47],'
        . '"cbq":[9,9,9,9,9,10,10,8,8,8,8,4,4,4,4,4,4,4,4,7,7,7,10,8,9,10,10,10,10,9,10,10,10,9,9,10,10,10,10,10,10,7,7,7,7,7,7,8,8,8,8,8,8,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,7,7,8,8,4,8,4,4,4,4,8,8,4,4,4,4,10,10,10],'
        . '"cbqstr":[2,2,2,2,2,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,4,6,7,7,9,10,11,11,11,11,13,12,11,12,3,3,3,3,3,3,2,2,2,2,2,2,3,4,4,4,4,4,4,3,2,2,2,2,2,2,2,2,2,2,1,1,1,1,0,1,0,0,0,0,1,1,0,0,0,0,1,1,1],'
        . '"cgq":[1,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1],'
        . '"cgqstr":[127,127,126,126,126,107,106,106,107,109,109,107,106,102,99,101,104,107,115,126,137,146,159,190,195,200,210,213,210,208,204,201,203,204,207,208,207,208,204,202,202,190,189,189,190,190,188,189,189,190,190,190,193,193,192,193,192,192,191,191,190,189,192,197,201,204,204,206,206,205,206,206,207,206,204,202,202,199,196,192,189,183,181,175,172,170,168,165,165,168],'
        . '"crq":[8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,8,8,8,8,8,8,9],'
        . '"crqstr":[46,46,46,47,46,33,34,34,34,35,34,36,34,35,34,33,33,33,33,34,34,38,51,59,64,66,72,72,74,75,75,78,77,80,82,81,79,80,79,75,73,59,58,57,57,56,56,56,57,59,60,60,61,59,58,59,60,61,60,59,59,60,61,62,65,65,64,65,64,66,65,64,63,61,60,58,60,62,62,60,60,63,63,61,61,61,61,66,67,66]'
        . '}';

$aFilmy[0] = json_decode($aFilmy[0]);
//var_dump_spec( $aFilmy[0] );

$aFilmy[1] = '{'
        . '"kpc":[6,6,6,6,6,6,6,7,9,10,12,14,17,25,27,29,33,34,39,34,30,30,31,31,28,30,32,32,35,36,39,37,37,35,33,30,29,28,27,26,26,26,10,10,10,9,9,9,10,11,8,7,7,9,10,10,11,12,12,19,18,18,16,12,10,7,7,7,6,6,6,6,6,7,8,7,7,9,9,10,13,19,22,23,24,27,26,24,24,25],'
        . '"kpq":[16,16,16,16,1,16,1,16,15,15,15,14,14,15,15,15,15,15,15,15,16,15,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,16,16,2,2,1,2,1,1,1,2,1,16,1,16,1,1,16,16,15,16,16,16,16,16,1,2,15,16,15,15,14,13,14,1,1,16,1,16,16,16,16,15,15,15,15,15,15,15,15,15],'
        . '"kpqstr":[80,58,77,102,73,77,96,99,249,340,524,662,790,1093,1146,1290,1394,1420,1646,1406,1109,1219,1288,1320,1267,1379,1442,1412,1514,1498,1632,1550,1418,1431,1380,1204,1069,992,973,940,905,843,410,408,361,362,341,360,358,350,283,206,207,277,269,280,355,378,392,649,598,600,489,262,111,65,58,57,86,96,118,151,79,222,275,232,243,295,324,386,490,851,1007,1100,1230,1312,1277,1187,1112,1109],'
        . '"cb":[0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,3,3,3,3,3,3,3,3,3,17,16,15,14,13,12,11,13,15,15,13,13,14,15,15,15,16,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,2,2,2,4,6,6],'
        . '"cg":[25,30,27,27,28,29,30,30,31,32,33,32,32,32,32,32,31,31,30,32,34,35,36,39,41,41,41,41,40,40,40,39,39,38,38,37,36,36,35,34,33,34,6,5,5,5,5,6,7,6,11,10,12,11,13,12,7,9,8,37,36,36,37,37,38,39,44,45,46,46,48,50,48,44,36,35,37,32,32,31,30,31,30,33,33,33,34,33,33,33],'
        . '"cr":[2,2,2,1,1,1,2,3,4,5,6,8,10,12,13,13,15,16,18,18,18,18,19,19,18,18,19,19,19,20,20,20,21,20,20,21,21,21,21,21,21,22,25,23,21,18,20,19,17,17,16,15,17,18,19,19,19,20,19,11,11,10,8,6,6,5,3,2,2,1,1,1,6,9,13,14,14,14,14,14,15,15,15,15,15,16,15,13,13,14],'
        . '"grayq":[14,14,14,15,15,15,16,16,15,15,15,15,14,14,14,13,13,13,12,13,13,12,11,11,11,9,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,9,9,9,8,8,8,8,9,9,9,9,9,9,10,11,12,13,13,13,13,15,16,16,16,16,16,15,11,10,10,12,12,12,13,13,13,12,12,10,8,1,16,16,15],'
        . '"grayqstr":[2,2,2,2,2,2,2,3,3,3,3,3,3,2,2,2,1,1,2,3,2,2,1,1,1,0,1,1,1,1,2,2,2,2,2,3,3,4,4,4,5,5,33,34,30,27,21,22,18,16,13,13,15,16,16,17,17,17,17,2,2,2,2,2,2,2,3,3,3,3,3,3,1,1,2,2,2,2,2,3,3,2,1,1,1,0,0,1,2,2],'
        . '"kpqc":[6,6,5,6,6,5,3,3,1,1,4,5,2,14,14,14,14,14,14,14,14,14,14,14,14,13,13,13,13,13,13,13,13,13,12,12,12,11,10,11,11,10,2,2,2,2,1,2,16,2,16,1,1,16,1,2,1,15,14,6,9,9,9,10,8,7,9,8,8,11,11,12,11,6,6,7,9,11,11,10,9,11,6,14,13,13,13,13,13,13],'
        . '"kpqcstr":[74,74,77,33,18,27,32,15,17,7,61,43,16,74,122,138,174,145,196,127,65,94,90,51,114,234,233,173,220,241,210,178,140,109,73,103,100,65,57,62,50,58,107,118,82,87,104,86,99,90,73,41,68,109,118,87,155,97,169,33,22,36,33,35,48,46,49,40,49,63,91,102,49,6,5,6,5,18,36,28,28,29,5,1,52,97,118,110,132,170],'
        . '"cbq":[9,9,9,9,9,8,9,10,9,10,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,9,9,9,9,8,8,8,8,8,8,9,9,9,9,9,9,8,8,8,8,9,9,9,9,9,9,9,9,8,8],'
        . '"cbqstr":[3,3,3,3,3,3,4,6,6,7,9,10,12,13,14,14,14,15,17,15,14,14,15,14,13,12,13,13,14,15,15,15,14,16,16,16,15,15,16,15,15,17,88,84,83,78,71,65,64,70,77,79,73,69,73,76,77,76,82,6,6,5,5,6,5,2,2,2,3,3,3,3,3,5,5,6,6,6,5,6,7,7,8,12,13,13,15,23,34,34],'
        . '"cgq":[8,8,8,8,9,9,9,9,9,9,9,9,9,10,10,11,12,14,16,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,16,16,16,1,2,2,16,16,16,1,1,1,16,1,1,2,7,8,8,8,8,8,8,8,8,8,8,8,8,8,10,9,8,8,8,8,8,8,8,8,9,9,13,4,11,13,16],'
        . '"cgqstr":[94,77,57,50,62,70,77,77,81,81,72,57,38,25,23,18,13,11,21,26,30,34,49,55,61,55,58,59,57,58,61,60,59,59,56,48,42,39,32,29,32,47,26,22,15,3,4,8,11,14,40,35,46,47,58,51,32,45,42,43,37,47,56,61,61,67,84,87,86,82,76,69,26,11,18,50,56,72,72,67,54,40,34,15,12,4,0,5,6,15],'
        . '"crq":[15,15,16,16,2,13,11,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,7,7,8,8,8,8,8,8,8,8,8,8,9,9,9,8,8,8,8,8,8,15,15,13,14,15,9,8,8,8,8,9,9,9,9,9,9,9,9,9,9,10,10,10],'
        . '"crqstr":[3,3,2,3,1,1,4,13,21,24,34,43,51,62,63,69,74,81,90,91,89,89,91,93,89,89,91,90,91,93,93,96,97,99,99,102,103,104,103,102,102,104,98,98,92,85,81,79,74,65,62,63,69,77,76,73,81,84,85,50,50,45,30,21,22,15,3,3,4,3,4,4,19,40,60,60,64,65,71,73,76,80,81,79,80,83,81,71,72,75]'
        . '}';
$aFilmy[1] = json_decode($aFilmy[1]);

$aFilmy[2] = json_decode(''
        . '{"kpc":[8,8,8,7,7,6,4,3,2,2,2,2,2,3,3,5,6,7,10,10,7,9,11,7,4,2,2,1,1,1,1,1,1,1,1,2,3,2,2,2,1,2,2,2,2,1,1,1,2,2,2,1,1,1,1,1,2,2,2,2,9,9,9,8,8,9,9,9,10,10,10,9,7,4,3,4,4,7,8,8],'
        . '"kpq":[16,16,16,16,16,16,16,16,15,15,16,16,1,2,2,2,2,2,1,16,3,16,16,2,3,1,15,14,14,14,15,1,2,2,2,1,1,1,15,1,13,13,12,13,12,12,12,11,5,4,4,4,16,3,4,4,4,4,4,3,1,1,1,1,1,1,1,1,1,1,1,16,16,16,15,15,15,15,15,16],'
        . '"kpqstr":[331,334,318,296,291,236,155,99,84,65,43,60,51,79,89,96,87,100,147,179,165,170,234,161,104,62,56,48,43,26,21,18,32,43,52,57,74,64,34,43,32,76,64,58,68,40,49,13,16,26,8,7,4,3,44,58,65,83,45,78,256,239,253,244,258,289,309,291,323,351,336,304,245,150,122,146,150,235,300,304],'
        . '"cb":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],'
        . '"cg":[1,3,3,3,3,3,3,3,4,3,3,3,3,3,3,4,4,4,4,4,4,4,4,3,4,5,7,7,6,6,4,4,5,5,4,3,2,2,3,3,4,7,7,7,6,6,6,5,5,4,3,2,1,1,1,0,0,0,0,0,2,2,2,2,2,2,2,2,2,3,2,3,2,2,2,2,2,1,2,1],'
        . '"cr":[4,3,3,3,3,3,3,3,2,2,3,5,6,9,10,10,11,11,10,10,9,8,7,7,6,5,4,3,2,3,4,4,3,3,3,4,5,6,6,7,8,9,10,9,9,10,9,9,9,10,9,8,8,8,8,9,9,9,9,10,6,6,6,6,7,6,6,6,5,5,5,5,4,3,3,3,3,3,3,3],'
        . '"grayq":[9,9,9,9,9,9,9,8,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,12,12,11,10,9,8,8,9,9,9,9,9,9,9,9,9,9,11,10,10,10,10,10,10,10,9,8,15,16,16,1,2,2,2,2,1,1,12,12,12,12,12,12,12,11,11,11,11,11,10,9,8,8,9,9,9,9],'
        . '"grayqstr":[7,7,7,7,7,7,7,7,8,8,8,9,10,10,8,8,7,7,6,6,6,5,5,5,5,6,7,5,7,9,10,10,11,13,15,15,15,14,11,6,4,5,6,5,5,5,4,3,2,0,0,1,2,2,3,4,5,6,6,4,4,4,4,4,4,4,4,3,3,3,3,2,2,3,4,4,4,5,5,5],'
        . '"kpqc":[16,16,16,16,1,1,1,16,15,15,16,16,1,1,2,1,16,16,16,16,3,16,15,16,4,2,15,15,13,14,16,1,16,2,3,2,16,14,13,13,13,13,12,12,12,13,12,13,2,2,1,1,14,14,4,4,4,4,4,2,14,14,14,16,1,1,15,16,16,1,1,16,1,16,1,15,16,16,16,16],'
        . '"kpqcstr":[85,93,81,84,84,74,70,49,51,46,35,55,56,62,69,88,77,112,206,227,148,202,270,78,46,13,22,19,25,12,5,8,10,13,20,26,32,31,47,39,19,43,30,31,50,33,36,19,5,13,7,4,16,17,28,33,50,55,38,29,132,129,127,99,94,93,122,98,75,117,93,79,53,32,16,37,68,89,108,108],'
        . '"cbq":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],'
        . '"cbqstr":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],'
        . '"cgq":[10,9,9,9,9,9,9,9,9,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,9,9,9,9,9,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,9,8,8,8,7,7,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,10,9,9],'
        . '"cgqstr":[10,21,19,18,18,17,16,18,20,19,21,20,20,22,23,27,26,25,24,24,24,23,23,22,25,34,37,36,34,36,23,25,26,25,21,19,13,12,16,17,22,39,38,40,33,33,31,30,30,23,16,10,8,7,6,4,3,2,2,3,16,18,18,18,16,14,13,14,16,16,15,15,14,13,14,13,11,10,11,10],'
        . '"crq":[8,8,8,8,8,8,7,7,8,8,9,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,7,7,8,9,9,9,9,8,8,9,9,9,10,10,10,10,9,9,8,8,8,8,8,8,8,8,7,7,7,8,8,10,10,10,10,10,10,10,10,10,10,9,9,9,8,8,8,8,9,9,8],'
        . '"crqstr":[19,18,17,15,16,15,18,17,9,6,11,27,40,52,57,61,61,59,55,51,41,38,35,28,21,17,18,14,9,16,21,21,18,18,17,19,22,25,21,29,26,28,29,27,24,26,25,27,31,35,34,31,30,34,38,36,37,38,35,37,35,34,36,34,32,31,30,28,26,25,25,22,19,11,12,13,12,13,13,13]'
        . '}');
    
    $aFilmy[3] = json_decode('{'
            . '"kpc":[0,13,13,12,12,12,11,11,11,11,10,11,10,10,10,10,9,9,9,9,8,8,8,7,8,9,9,9,8,8,7,6,6,6,6,5,6,6,6,6,7,7,7,7,6,6,6,6,5,5,5,5,5,4,9,10,10,10,10,10,10,9,9,8,8,7,8,8,7,8,11,9,8,9,9,10,10,11,10,10],'
            . '"kpq":[4,15,15,15,15,14,14,14,14,15,14,14,14,14,14,14,14,14,14,14,14,13,13,13,13,14,13,13,13,13,13,13,13,12,12,12,13,14,14,15,14,15,14,14,13,13,13,14,14,14,14,14,14,15,14,14,14,15,15,15,15,15,15,16,16,16,14,14,14,13,14,13,13,13,13,13,13,13,13,14],'
            . '"kpqstr":[0,268,225,219,218,269,275,312,288,278,285,307,328,320,327,282,257,265,266,224,267,298,256,252,294,360,298,256,239,229,256,262,273,227,218,173,124,102,163,152,182,163,196,192,234,242,243,226,207,229,199,192,181,142,315,368,368,390,386,411,388,370,357,288,283,250,243,289,260,260,359,303,277,306,345,382,384,376,356,290],'
            . '"cb":[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,4,5,6,7,9,10,11,10,10,10,11,10,11,12,12,11,11,11,10,10,10,10,10,10,10,9,9,9,6,6,7,7,7,7,7,7,6,5,4,3,3,2,2,2,1,1,1,5,6,5,8,8,7,8,8,8,9,10],"cg":[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,3,3,3,2,3,3,2,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,3,5,3,2,2,1,1,1,1,1,0,0,1],"cr":[0,20,22,22,22,22,22,22,22,21,20,20,20,20,20,19,19,18,18,18,17,17,16,15,14,13,12,11,10,10,8,7,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,4,6,5,5,6,6,6,6,6,7,7,7,8,12,13,12,12,12,10,9,8,8,8,7,7,7,7],"grayq":[7,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8],"grayqstr":[0,27,27,27,27,26,26,26,25,25,25,24,24,23,23,23,22,23,25,26,26,28,28,28,29,31,35,37,38,38,38,38,39,39,39,40,39,39,39,39,39,39,39,38,38,38,38,38,38,36,35,35,35,34,35,35,35,34,27,25,24,23,21,19,19,19,24,28,31,33,35,36,37,37,37,37,37,37,37,37],"kpqc":[4,2,2,2,2,2,16,1,16,14,1,1,16,14,14,14,14,14,13,13,13,13,13,13,14,14,13,13,12,12,12,12,12,12,12,12,11,11,12,12,12,13,13,13,13,13,14,16,14,13,16,1,1,16,14,14,14,14,16,16,16,16,15,16,15,16,14,14,14,14,14,13,13,13,13,13,13,13,14,14],"kpqcstr":[0,150,202,189,183,170,88,113,110,101,116,113,107,107,110,118,180,178,236,200,208,206,193,194,166,217,150,111,81,83,117,107,104,111,107,107,69,81,91,66,34,58,66,50,42,64,68,62,62,102,85,72,70,60,119,140,129,149,149,160,156,152,156,138,112,95,162,158,158,134,209,195,200,202,210,223,211,210,94,68],"cbq":[4,15,15,15,15,7,7,7,7,7,7,7,7,7,4,7,7,7,8,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,7,7,8,8,8,8,8,8,7,7,7,7,8,8,8,8,8,8,8,8],"cbqstr":[0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,3,4,6,9,17,22,31,32,38,43,50,52,51,49,48,52,50,52,57,57,55,56,54,53,53,51,49,49,47,47,48,46,44,32,30,32,34,39,38,38,37,32,28,24,19,18,13,11,11,4,5,9,29,37,33,43,39,39,41,44,43,45,50],"cgq":[4,15,15,15,15,15,13,4,4,4,4,4,7,7,8,7,7,7,7,7,8,8,8,9,9,10,9,10,10,10,10,10,10,10,10,10,10,10,10,10,9,10,10,8,8,10,10,10,10,10,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,8,8,10,10,10,10,10,10,10,10,10,10,10],"cgqstr":[0,1,1,1,1,1,1,0,0,0,0,0,4,7,3,5,6,19,21,19,11,18,17,14,9,7,9,9,7,6,8,4,3,6,3,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,4,4,4,4,6,4,6,6,4,3,1,1,7,19,28,22,18,13,11,8,10,8,7,6,6,7],"crq":[4,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,10,11,11,11,11,11,11,10,10,10,10,10,9,9,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,9,10,9,9,9,9,9,9,8,8,8,8,10,10,10,10,10,10,9,9,9,9,9,9,9,9],'
            . '"crqstr":[0,69,59,59,58,58,58,58,57,58,58,59,59,58,58,58,57,59,64,64,62,62,61,54,53,52,53,48,45,39,31,24,21,23,23,25,28,29,28,29,27,29,29,27,26,24,21,24,23,23,22,23,23,18,23,24,23,24,23,25,25,25,25,24,28,29,60,66,64,62,58,51,44,37,35,33,30,32,30,33]}');
    
    
    $aFilmy[4] = 
            json_decode('{"kpc":[15,14,13,13,13,14,14,13,13,14,11,10,8,8,11,12,12,11,11,11,11,9,7,7,7,6,6,6,5,4,4,4,4,4,4,4,4,4,4,5,4,4,4,4,4,4,4,5,5,5,5,5,6,6,5,5,5,5,5,6,5,5,5,4,4,4,4,5,5,5,5,5,4,5,2,2,2,2,4,8],"kpq":[15,15,15,14,13,13,13,13,13,14,13,13,12,12,13,13,13,13,14,14,15,1,3,3,3,3,2,2,1,7,4,5,5,6,5,5,5,5,8,8,8,8,6,6,1,5,8,10,5,5,5,5,2,4,5,5,5,5,5,4,6,11,10,7,4,5,5,5,5,4,7,8,5,11,10,11,9,9,10,9],"kpqstr":[335,329,253,179,208,262,264,287,246,224,234,256,212,287,421,414,406,321,224,227,178,120,97,165,113,81,62,48,33,22,21,57,51,42,38,35,48,50,30,43,37,31,37,30,1,29,21,23,23,49,33,68,42,60,61,62,79,48,40,8,22,12,21,34,26,14,81,96,127,108,55,16,26,59,123,88,78,82,155,250],"cb":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,8,7,8,7,5,7,13,20,16,15,20,18,15,12,13,10,22,41,40,40,40,52,3],"cg":[35,35,35,34,34,34,33,33,34,34,35,36,35,33,34,35,35,34,34,33,32,29,27,25,26,31,32,33,35,37,39,40,40,40,40,42,43,45,45,46,46,45,45,44,44,42,42,41,42,41,42,42,41,42,42,43,43,9,7,5,7,8,8,12,6,5,7,3,6,6,6,7,6,4,0,0,0,0,0,42],"cr":[2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,3,4,6,6,6,5,5,4,2,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,2,1,2,2,1,1,1,1,1,1,1,1,8,10,11,10,11,10,10,6,12,12,10,9,10,11,8,10,8,3,7,7,7,0,1],"grayq":[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,1,1,1,1,1,1,16,16,16,16,15,14,13,11,9,9,9,9,9,10,14,1,16,16,16,1,1,3,6,7,7,8,8,8,2,2,3,2,2,5,4,3,4,4,4,1,7,5,1,15,3,2,1,2,2,12],"grayqstr":[25,25,24,22,19,17,17,16,16,15,17,16,16,17,18,18,19,20,20,21,21,19,19,18,18,21,23,23,24,23,22,22,20,17,13,8,6,5,6,7,7,6,6,4,1,7,13,14,13,10,7,3,4,7,9,12,14,7,4,4,12,12,12,17,10,11,6,9,3,0,6,5,5,5,21,15,13,15,17,15],"kpqc":[13,13,13,12,12,12,12,12,12,12,12,13,12,12,12,12,12,12,11,12,11,5,5,4,3,3,2,4,4,7,9,5,4,4,4,4,5,5,6,6,5,6,5,5,5,4,6,2,3,2,1,3,3,4,4,4,4,3,1,1,5,15,14,5,2,1,4,5,4,4,6,4,4,10,11,12,12,10,11,9],"kpqcstr":[252,241,219,190,261,306,293,265,190,215,205,256,191,243,323,314,287,252,173,171,105,95,115,99,88,51,13,20,11,13,9,49,43,40,44,39,64,59,39,58,67,74,66,44,53,48,14,13,27,43,22,49,56,60,59,60,76,39,31,41,28,31,17,20,4,17,67,85,113,105,53,9,43,35,60,34,18,9,82,166],"cbq":[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,16,16,16,1,1,16,16,16,1,1,16,16,16,16,16,16,16,15,15,15,16,1,1,2,2,2,2,1,1,2,4,9,8,9,10,10,10,10,10,8,6,6,4,11,1,2,1,16,16,16,16,15,16,15,15,6,8,8,9,12,16],"cbqstr":[10,9,10,9,8,7,8,8,8,8,10,9,9,10,9,10,10,10,10,10,10,9,8,9,9,8,8,7,6,7,7,7,8,7,6,7,6,3,3,2,2,4,5,1,4,6,4,2,1,0,2,2,6,7,8,10,11,10,10,14,13,5,10,32,53,30,17,34,45,40,30,31,17,57,45,38,37,38,23,8],"cgq":[4,3,4,5,6,6,6,6,7,7,7,7,6,5,5,5,5,5,5,6,5,16,14,15,16,16,16,16,16,16,1,2,2,3,3,3,3,2,3,1,10,9,10,7,6,10,8,5,4,3,4,4,3,3,3,3,2,1,16,15,16,16,1,12,12,13,13,8,7,4,4,13,14,3,15,15,15,16,4,8],"cgqstr":[11,12,13,18,26,32,32,27,24,25,21,29,39,50,48,45,45,42,39,34,20,6,33,43,54,66,62,59,52,40,29,27,30,34,36,29,26,17,9,2,3,9,13,4,2,7,3,7,16,17,14,8,13,14,16,14,12,44,39,34,38,37,39,46,29,14,8,2,8,22,4,17,17,11,3,3,1,2,1,42],"crq":[10,10,11,11,11,12,12,12,12,12,12,13,13,14,13,13,13,13,11,11,10,9,8,8,8,8,8,8,8,8,8,9,11,10,10,10,10,10,10,8,4,1,1,2,1,2,2,16,14,13,14,14,11,11,10,10,8,13,3,11,11,10,11,5,6,8,7,8,10,9,8,8,8,9,16,2,2,2,7,1],'
            . '"crqstr":[7,8,6,4,4,6,5,6,5,6,7,7,7,9,7,6,7,6,4,4,9,10,12,25,28,29,26,24,21,11,5,4,6,8,10,11,11,9,7,1,2,2,4,1,2,6,5,3,4,3,4,4,2,4,3,4,1,14,7,10,34,17,28,35,20,12,21,20,36,29,32,33,30,31,17,24,16,14,1,3]}');
   
    $aFilmy[5] = json_decode('{"kpc":[4,3,3,3,3,56,57,59,60,61,62,62,62,62,62,63,63,64,64,64,65,65,64,65,65,65,65,65,65,65,66,66,67,67,67,66,66,66,66,67,67,66,66,66,66,66,67,66,66,66,67,67,67,68,67,67,67,61,59,58,61,63,65,66,67,67,65,61,60,61,63,63,64,63,63,63,66,68,69,69],"kpq":[1,14,11,13,14,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],"kpqstr":[9,10,34,10,35,2118,2162,2223,2235,2298,2310,2308,2312,2313,2323,2354,2359,2383,2386,2400,2420,2400,2403,2411,2406,2417,2421,2436,2426,2417,2439,2449,2462,2461,2459,2444,2448,2459,2444,2458,2463,2448,2445,2444,2449,2453,2461,2424,2443,2444,2459,2462,2475,2483,2471,2464,2460,2310,2239,2166,2278,2333,2383,2435,2449,2447,2383,2271,2247,2273,2337,2346,2358,2322,2345,2337,2422,2487,2520,2516],"cb":[82,82,81,77,75,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,36,36,36,36,36,37,36,36,36,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,37,38,37,37,37,37,38,38,38,38,38,38,38,38,38,38,37,37,37],"cg":[1,0,0,0,0,44,44,44,43,44,44,44,44,44,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,42,42,43,43,43,42,42,42,42,42,42,42,42,42,42,42,42,41,41,41,41,41,41,41,41,42,42,42],"cr":[2,4,6,8,8,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,4,4,4,4],"grayq":[7,7,7,6,5,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],"grayqstr":[14,14,11,11,9,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],"kpqc":[1,16,12,13,13,16,16,1,1,1,1,1,16,16,16,16,16,16,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],"kpqcstr":[20,14,15,22,35,146,160,147,147,152,161,160,190,191,200,206,210,200,158,206,220,219,208,218,218,210,214,215,220,217,218,225,227,231,235,237,229,232,230,236,230,228,231,233,233,242,206,232,233,235,240,247,240,252,255,248,252,179,155,161,186,202,237,249,261,259,236,202,195,180,187,191,188,192,180,188,227,245,251,257],"cbq":[7,7,6,7,7,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9],"cbqstr":[29,21,12,23,11,37,35,36,36,35,35,33,33,34,33,33,33,33,33,33,32,31,31,31,31,31,31,30,31,30,30,30,30,30,30,31,30,31,31,31,30,29,30,29,29,30,30,29,29,29,29,29,28,29,29,29,28,28,27,28,30,28,29,29,28,28,28,29,29,29,29,28,29,29,29,29,28,27,26,26],"cgq":[15,4,4,16,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"cgqstr":[8,0,0,2,3,107,108,108,109,107,106,107,108,108,108,108,108,108,108,108,108,107,107,107,106,106,106,106,106,105,105,106,105,105,105,105,105,105,105,106,105,104,104,106,106,106,106,106,105,106,106,106,105,105,105,106,105,106,106,105,106,105,105,105,104,103,104,105,104,104,104,104,105,105,105,105,104,103,103,102],"crq":[1,16,16,1,2,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],'
            . '"crqstr":[5,11,7,10,3,16,17,17,17,17,17,17,17,18,19,19,19,19,19,19,19,19,20,20,19,20,20,20,20,20,20,20,20,20,21,20,21,20,21,21,21,21,20,20,20,21,20,21,20,21,21,21,21,21,21,21,21,21,19,17,18,18,18,18,19,19,20,18,18,19,19,17,17,17,17,18,18,19,19,20]}');
    
    $aFilmy[6] = json_decode('{"kpc":[3,3,3,3,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,3,3,3,2,2,2,2,2,2,2,2,3,3,3,3,3,3,2,2,2,2,2,3,3,3],"kpq":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,1,1,1,1,2,2,2,2,1,2,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,2,2,1,1,1,1,1,2,2,2,3,2,3,6,9],"kpqstr":[91,97,101,97,90,91,73,84,83,77,75,83,79,76,76,76,78,77,75,72,73,76,76,74,73,76,78,82,82,78,84,87,103,91,88,88,90,95,93,94,97,97,89,90,102,96,101,101,94,100,110,107,108,105,100,99,92,102,96,87,90,93,86,88,103,93,104,115,110,119,116,114,100,85,74,64,63,47,10,31],"cb":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0],"cg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"cr":[47,48,47,47,47,47,47,47,47,47,47,47,47,46,46,46,46,46,46,46,46,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,44,44,45,45,45,45,45,45,45,45,45,45,45,45,44,44,44,44,44,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,42,42,43,40,26,20,15],"grayq":[1,1,1,16,16,16,16,16,16,16,16,15,15,16,15,15,15,14,15,15,15,15,2,7,8,8,8,9,10,11,11,10,9,10,10,10,11,10,10,11,11,11,12,12,12,12,12,12,12,11,12,11,11,11,11,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8],"grayqstr":[4,3,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,4,5,6,7,8,9,10],"kpqc":[6,6,5,5,4,4,5,5,5,6,6,4,4,4,4,5,4,5,2,14,16,14,14,1,16,14,15,14,14,14,14,14,14,14,14,14,14,14,14,14,15,2,2,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,2,2,16,2],"kpqcstr":[9,8,7,8,9,7,6,6,6,4,4,4,2,6,7,8,6,5,2,1,1,2,2,2,2,3,2,2,3,3,7,10,13,10,7,3,3,2,1,3,3,3,8,17,26,22,22,25,25,26,29,17,20,22,28,25,22,22,17,19,21,27,18,14,21,25,26,23,23,26,26,24,22,21,18,19,20,24,15,6],"cbq":[7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,9,9,9,8,9,9,9,9,9,9,9,7,7,4,4,4,4,4,4],"cbqstr":[1,1,1,1,3,3,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,5,4,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,6,6,5,5,5,3,1,1,0,0,0,0,0,0],"cgq":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15],"cgqstr":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],"crq":[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,16,16,1,1,1,1,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,7,8,7],'
            . '"crqstr":[87,84,82,81,80,79,78,77,78,78,77,76,77,76,76,73,73,72,73,74,74,73,72,71,71,71,72,72,71,71,72,72,72,71,71,70,71,72,72,71,70,69,70,70,70,70,71,71,71,70,70,68,67,67,65,64,63,64,65,65,65,66,66,65,66,66,64,64,63,63,63,62,63,63,60,56,39,49,47,33]}');
   
    $aFilmy[7] = json_decode('{"kpc":[1,1,1,0,0,29,27,27,28,29,29,29,30,30,31,31,31,31,30,30,29,29,28,27,29,29,30,31,31,30,30,30,30,30,29,29,29,29,29,30,30,27,25,24,26,29,30,31,32,32,32,32,31,30,29,30,30,30,29,28,29,30,31,29,30,30,30,30,29,29,28,29,30,30,30,30,31,31,32,32],"kpq":[4,5,4,5,5,1,16,16,1,1,16,1,16,16,1,16,1,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],"kpqstr":[30,31,30,29,29,748,665,653,630,660,819,725,729,795,792,737,798,763,672,720,720,710,693,685,727,791,821,835,851,755,754,762,746,753,746,803,789,738,738,819,841,700,649,615,670,741,766,780,791,801,810,804,763,734,769,780,804,761,783,748,736,743,757,747,749,758,854,774,741,730,728,748,762,749,751,760,765,783,864,804],"cb":[3,2,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"cg":[53,56,53,63,60,15,15,14,14,14,14,14,14,14,14,14,14,14,14,14,14,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13],"cr":[19,20,20,11,19,65,65,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66],"grayq":[7,8,6,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,7,7,7,7,8,8,8,8,8,7,7,7,7,7,8,8,7,7,7,7,7,7,7,7,7,7,8,7,8,8,8,8,8,8,8,8,8,8,8,8,7,7,7,7,7,7],"grayqstr":[25,25,25,24,9,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],"kpqc":[3,3,3,4,4,1,1,1,3,2,2,2,1,1,2,2,2,2,2,2,2,2,1,1,1,16,1,1,1,16,16,1,16,1,1,1,16,16,1,1,16,16,15,15,14,15,15,15,15,15,16,14,14,14,14,14,15,15,15,15,15,15,15,14,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16],"kpqcstr":[0,0,2,0,0,92,80,77,78,79,85,87,89,89,89,88,91,92,87,82,73,63,58,42,47,56,52,54,56,60,59,49,57,47,45,44,46,47,53,58,57,43,42,55,74,76,77,81,83,80,84,89,80,76,71,72,67,67,59,56,61,60,59,56,58,60,60,59,37,33,46,50,50,48,48,45,50,51,54,57],"cbq":[1,1,5,6,4,8,8,8,9,8,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,9,9,8,8,9,9,9,9,9,9,8,8,8,9,9,9,9,9,9,10,10,10,8,9,8,9,9,8,8,8,8,10,9,9,9,9,9,9,9,9,9,8,8,8,8,8,9,8,9,9,8,8,9,10,10],"cbqstr":[13,12,8,8,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,1,1,1,2,2,2,2,2,2,2,2,2,1,2,3,2,2,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,4],"cgq":[10,10,11,12,15,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,8],"cgqstr":[105,111,126,117,12,50,50,50,49,48,49,49,48,48,48,48,48,48,48,48,46,45,46,44,44,45,44,45,45,44,44,43,44,43,43,44,42,43,43,42,43,41,40,41,43,44,44,44,44,44,44,44,44,42,42,42,39,41,38,38,39,38,39,38,38,39,39,40,39,40,40,39,41,41,41,42,42,42,43,44],"crq":[3,3,3,5,8,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16],'
            . '"crqstr":[12,20,30,53,18,84,85,85,85,84,85,84,85,84,83,83,83,83,83,83,83,82,82,82,82,81,81,82,81,81,81,80,80,81,81,81,81,81,80,80,81,79,77,77,77,77,77,77,77,77,77,78,77,76,77,76,76,77,77,77,77,77,77,76,76,77,77,77,78,79,79,79,79,79,79,80,80,80,81,81]}');
  
    $aFilmy[8] = json_decode('{"kpc":[31,30,29,5,6,6,5,5,6,5,5,5,5,25,24,24,23,23,23,23,22,20,20,20,20,20,20,19,19,18,18,18,17,18,18,18,18,18,19,19,19,18,15,12,11,11,13,13,13,12,13,13,14,18,19,19,21,22,23,24,24,26,27,28,27,28,29,29,28,28,27,27,26,26,26,24,24,22,22,21],"kpq":[1,1,1,12,11,12,12,11,11,11,11,11,11,16,16,16,16,16,16,16,16,16,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16,16,15,15,14,14,15,15,15,15,15,16,16,16,16,16,16,16,16,16,1,16,16,1,1,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1],"kpqstr":[821,796,817,174,201,187,192,194,200,165,179,185,181,663,608,606,585,547,583,569,545,488,477,459,474,471,508,464,467,435,431,413,395,400,419,399,357,343,356,392,425,428,329,264,208,185,246,274,269,211,253,274,228,388,416,499,551,592,639,657,798,786,810,816,850,876,923,861,841,835,820,868,848,809,839,804,727,593,578,551],"cb":[0,0,0,5,8,8,7,6,5,4,3,4,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"cg":[75,76,76,29,26,25,25,23,21,23,27,33,37,81,81,81,81,82,82,83,84,84,84,83,82,82,82,83,83,83,84,84,84,83,83,83,82,82,82,81,81,81,81,80,80,81,81,80,80,81,80,80,80,80,80,79,80,79,79,79,78,78,77,77,76,76,77,77,78,78,78,78,79,79,79,80,81,80,79,78],"cr":[7,7,7,7,6,4,5,4,4,4,3,3,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,4,4,5,4,3,3,3,3,4,4,4,4,4,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5],"grayq":[8,8,8,8,7,7,8,9,9,9,8,8,4,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,7,8,8,8,8,8,8,8,8,8,8,9,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],"grayqstr":[14,14,14,21,24,21,22,22,19,16,13,13,17,11,10,10,10,9,9,9,9,9,9,8,8,8,7,7,7,6,6,6,7,8,8,7,7,7,7,7,7,7,7,8,8,7,8,9,10,9,10,11,10,11,11,12,12,13,13,14,14,15,15,16,16,17,16,16,16,15,15,15,14,14,13,13,13,12,12,11],"kpqc":[1,1,1,13,12,13,13,12,11,10,11,11,12,1,1,2,1,1,2,1,1,1,1,1,1,16,2,1,3,3,3,3,4,4,3,3,13,14,13,13,13,16,14,13,14,15,16,2,3,1,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,16,16,16,15],"kpqcstr":[224,220,226,36,63,58,46,46,44,34,33,36,48,148,131,130,122,117,115,112,84,95,83,66,64,43,76,41,40,23,5,46,48,44,26,10,40,40,64,64,59,47,73,48,37,37,27,49,66,38,50,79,74,107,107,113,119,127,136,140,157,159,164,184,190,195,201,200,198,185,185,184,175,164,176,147,124,93,94,82],"cbq":[8,8,8,12,13,13,13,14,9,11,12,12,1,4,8,8,8,8,8,10,10,8,8,4,8,4,4,4,4,4,4,8,8,4,8,8,8,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,8,8,8,8,10,10,10,10,10,8,4,10,8,8],"cbqstr":[2,2,1,22,35,32,25,21,5,9,13,20,28,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,1,1,0,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1],"cgq":[16,16,16,3,3,3,2,1,1,2,3,4,5,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,16,1,1,1,1,16,1,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"cgqstr":[118,116,112,98,102,93,84,76,54,62,102,127,73,92,93,89,90,86,85,83,77,76,78,83,87,87,85,81,81,80,77,76,76,78,81,81,83,84,86,89,88,89,90,97,96,93,94,99,97,94,98,98,98,97,101,102,101,102,103,105,107,108,113,114,118,119,116,115,110,109,109,107,106,103,102,99,95,98,103,109],"crq":[8,8,8,10,10,10,9,10,9,13,8,8,5,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],'
            . '"crqstr":[40,40,39,21,21,4,3,9,4,7,14,14,9,28,28,27,29,27,27,27,26,27,26,25,26,25,25,23,23,23,22,22,22,23,23,22,24,25,26,27,27,27,26,28,27,24,25,25,22,19,19,20,20,21,22,23,24,24,25,27,29,29,33,33,34,34,34,34,33,32,33,31,31,30,30,29,27,26,26,27]}');
    
    $aFilmy[9] = json_decode('{"kpc":[6,6,5,5,5,5,5,5,5,4,5,5,5,5,5,5,4,5,5,5,4,4,4,4,5,4,4,4,5,5,5,5,6,8,8,9,8,7,6,6,6,6,6,5,5,4,4,3,3,3,3,3,4,3,4,14,11,10,10,10,9,9,8,8,9,8,8,8,8,8,5,3,3,3,3,3,3,3,4,5],"kpq":[9,9,9,9,9,9,9,9,10,9,9,10,10,11,11,10,12,11,11,11,12,10,10,10,10,10,10,10,10,9,9,9,8,8,9,8,8,8,8,8,9,10,10,10,10,9,9,8,8,8,8,9,9,9,11,5,5,5,6,7,7,7,8,7,8,7,8,8,8,8,8,9,10,9,9,9,9,10,10,11],"kpqstr":[211,202,176,148,130,159,127,123,128,111,91,113,172,164,135,128,135,125,139,114,87,75,107,120,148,115,117,125,142,146,176,188,210,245,239,310,299,201,195,140,170,163,184,195,153,96,98,79,92,84,80,75,72,72,98,203,191,241,220,235,211,192,180,249,251,201,217,258,277,240,112,68,77,82,99,105,113,127,158,195],"cb":[6,5,3,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,0,0,0],"cg":[20,43,47,51,51,51,53,56,63,62,63,62,52,17,15,20,22,24,27,20,28,53,59,64,48,56,50,48,50,44,45,54,53,43,47,43,44,35,29,27,20,18,8,21,9,12,21,21,8,3,10,13,13,20,26,64,65,65,67,68,68,66,65,63,61,62,62,62,65,65,65,62,61,54,45,46,51,41,59,56],"cr":[3,3,3,3,3,2,2,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,2,4,5,6,7,7,6,5,5,4,3,3,3,3,3,3,5,5,5,4,4,3,3,3,5,4,5,3,3,3,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],"grayq":[8,8,9,9,9,9,9,10,11,1,2,1,16,15,13,9,12,13,13,15,3,3,1,15,2,5,5,7,11,9,10,9,8,8,8,9,8,8,8,8,8,10,10,11,9,8,8,8,8,8,8,8,8,7,7,2,2,2,3,3,3,2,3,3,3,3,3,2,2,2,3,1,14,13,16,1,14,1,14,16],"grayqstr":[2,2,3,4,3,3,2,2,1,1,3,3,4,4,2,1,1,2,2,0,2,2,1,2,1,1,1,2,3,2,3,3,4,5,5,6,6,6,8,8,5,5,5,6,3,3,4,5,5,6,8,8,6,3,3,4,4,5,5,4,3,3,4,4,3,3,3,4,4,4,4,2,0,2,2,3,3,3,3,1],"kpqc":[12,12,13,13,14,4,14,11,12,13,11,14,12,12,13,13,13,13,15,15,16,16,14,13,13,13,13,13,13,12,12,12,11,9,8,6,6,6,5,5,7,10,10,9,5,4,4,3,3,4,3,1,1,16,14,6,6,5,6,7,6,6,6,7,8,8,9,9,8,8,8,15,5,13,11,14,9,12,12,12],"kpqcstr":[71,60,53,41,15,13,6,46,45,26,13,31,36,34,30,30,25,22,41,50,57,33,41,73,64,70,63,58,37,26,27,23,15,15,20,69,30,52,68,39,36,17,43,28,22,39,35,39,31,45,33,30,25,33,66,96,106,150,153,133,109,39,25,62,102,58,100,91,82,83,34,16,4,15,6,2,20,60,52,57],"cbq":[11,12,12,15,16,1,1,2,16,1,1,15,4,7,8,4,12,13,13,11,10,4,1,1,1,2,2,1,1,2,2,1,1,1,1,1,1,1,1,16,1,1,15,1,1,1,2,1,1,2,2,2,4,2,2,7,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,14,14,14,15,15,14,14,13],"cbqstr":[28,24,15,6,4,4,4,3,4,2,2,1,0,1,2,0,3,2,2,2,3,0,1,1,2,1,1,2,2,3,4,4,5,6,6,5,5,4,2,2,2,3,1,2,4,3,4,6,6,3,1,3,0,1,8,1,1,1,3,3,4,4,5,6,6,8,8,9,9,8,8,8,6,7,5,5,6,4,4,3],"cgq":[7,7,8,8,8,8,9,9,9,9,9,9,8,8,7,7,7,7,8,8,9,8,8,8,8,9,9,9,7,8,8,8,8,8,8,8,8,8,8,9,9,9,9,8,9,9,9,9,9,9,9,8,9,8,7,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,7,8,11,7,11,7,9,8,6],"cgqstr":[111,145,153,152,140,138,133,134,107,105,87,84,61,29,38,70,97,106,79,57,55,56,52,53,65,63,51,46,53,65,74,79,87,97,99,113,128,116,109,119,100,86,38,76,38,49,77,80,32,15,46,53,46,69,72,57,57,46,44,54,53,43,54,51,49,59,66,67,77,85,104,122,75,86,86,57,93,61,41,70],"crq":[15,15,15,15,15,15,16,16,1,1,1,16,14,13,14,16,15,16,15,15,16,16,7,6,6,7,8,8,9,10,11,12,14,1,1,1,2,2,1,1,1,1,16,16,16,16,1,2,2,2,2,2,3,2,15,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,15,1,16,16,16,15,16,16,16],'
            . '"crqstr":[22,19,17,19,20,13,11,8,5,4,5,4,4,6,6,6,9,4,6,4,2,3,7,19,23,29,31,26,25,21,17,12,6,11,16,16,21,21,27,29,25,22,23,21,16,15,29,29,32,19,24,22,11,9,4,2,2,2,2,2,3,3,3,3,3,4,4,3,4,5,3,1,2,2,2,2,1,2,2,2]}');
    
    $aFilmy[10] = json_decode(''
            . '{'
            . '"kpc":[5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,5,4,4,4,4,4,4,4,4,4,3,4,3,4,4,4,4,4,3,4,3,3,3,4,4,4,4,5,5,4,4,4,4,4,4,3,4,4,4,3,4,3,3,1,0,0,1,2,2,2,2,2,2,2,1,1,2,2,2,1,1,1,0],'
            . '"kpq":[11,11,11,10,10,11,12,11,10,11,10,11,11,11,10,10,10,10,10,9,10,10,9,9,10,11,11,10,11,11,11,12,15,15,15,15,14,16,14,16,14,16,16,2,2,1,2,2,2,3,3,4,15,13,14,14,16,3,4,16,5,4,4,4,4,3,4,4,5,5,10,13,8,14,16,16,1,3,15,5],'
            . '"kpqstr":[114,94,113,84,81,82,88,81,67,76,78,87,94,92,85,91,88,88,72,32,45,34,31,44,39,48,34,29,46,34,50,43,43,44,40,38,45,60,63,59,95,82,87,146,93,137,148,125,78,72,77,93,116,133,105,122,29,56,33,22,1,0,0,32,31,11,14,29,44,20,29,11,9,33,18,28,21,30,12,6],'
            . '"cb":[5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,6,6,6,5,6,6,7,8,8,9,7,7,10,30,26,24,25,26,24,20,18,19,17,17,20,25,26,9,6,4,5,5,5,5,1,37,32,26,25,21,17,12,10,8,10,10,14,17,15,16,14,11,7],'
            . '"cg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,1,0,0],'
            . '"cr":[51,51,51,51,51,52,52,52,52,52,52,52,51,51,51,51,51,50,50,50,50,50,49,49,48,48,48,47,47,47,46,46,57,58,58,59,59,62,62,61,48,51,51,37,35,35,35,36,35,33,33,32,46,51,66,62,66,67,70,67,64,50,30,20,27,29,36,37,39,41,37,33,33,45,44,40,39,43,45,48],'
            . '"grayq":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,15,15,16,1,16,16,16,16,16,1,4,4,4,3,2,2,1,1,1,1,1,1,16,16,16,15,15,15],'
            . '"grayqstr":[31,31,32,32,32,33,33,33,33,32,32,32,32,32,32,32,32,32,32,32,32,32,32,31,31,31,31,31,31,31,31,30,44,44,43,44,45,47,48,49,32,34,33,31,30,26,23,24,25,25,24,23,32,40,28,26,30,31,19,25,27,29,49,53,41,35,32,34,26,23,23,24,19,22,24,23,23,23,22,17],'
            . '"kpqc":[12,12,12,7,9,13,8,4,4,3,6,8,8,7,5,9,5,5,5,5,5,7,9,5,4,8,5,7,5,5,4,5,13,13,13,13,13,15,14,16,14,1,2,2,1,1,1,1,2,3,3,4,13,13,13,13,12,4,12,11,11,4,4,3,3,16,1,16,14,1,13,13,2,14,15,15,16,3,14,16],'
            . '"kpqcstr":[20,19,28,4,2,3,3,25,4,22,7,7,9,29,40,40,40,39,34,37,37,30,8,30,12,23,26,24,28,29,9,28,26,27,48,44,59,43,70,49,48,45,55,82,60,65,57,52,33,37,36,45,78,86,98,92,10,32,31,4,1,0,0,21,22,5,12,21,17,14,10,11,7,18,11,27,12,17,10,4],'
            . '"cbq":[13,13,13,14,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,12,13,13,12,12,12,12,12,12,12,8,8,7,6,6,7,8,8,14,13,14,14,14,14,14,14,14,14,14,14,4,4,5,14,15,4,7,7,8,12,11,12,12,12,14,14,1,3,2,2,2,16,15,15,16,1,2,3],'
            . '"cbqstr":[12,12,11,11,12,12,13,15,15,14,14,15,16,16,17,16,16,15,15,15,16,17,16,16,14,15,15,16,16,15,15,16,11,12,14,15,16,18,18,11,74,116,116,107,106,103,96,94,93,86,86,98,90,113,12,11,9,6,17,15,10,5,115,144,105,54,24,24,12,15,24,36,40,56,56,52,51,36,42,16],'
            . '"cgq":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,2,3,3,3,3,2,4],'
            . '"cgqstr":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,16,18,15,9,1,0],'
            . '"crq":[1,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,4,4,4,4,5,5,6,6,5,6,6,6,14,14,2,1,1,16,14,16,1,16,5,4,7,11,12,13,13,14,14,13,9,8,5,6,8,9,4,3],'
            . '"crqstr":[102,102,103,105,107,109,108,108,109,107,107,107,107,106,107,106,107,108,107,106,106,107,106,106,104,104,103,103,102,102,100,99,104,101,99,94,90,94,88,83,114,159,151,79,70,73,83,92,86,83,83,81,80,75,44,37,34,36,39,46,42,58,82,26,9,14,49,44,42,57,55,38,9,31,29,26,28,18,18,57]'
            . '}');
    
    
    
    $aFilmy[11] = json_decode('{"kpc":[12,11,11,8,8,9,9,9,10,11,10,11,10,10,10,10,10,10,9,8,10,10,9,9,9,9,10,10,10,27,28,27,27,27,27,26,20,18,1,1,1,1,1,1,24,24,24,23,19,16,15,14,14,15,15,19,19,19,20,20,21,22,22,20,19,19,19,1,1,1,1,1,1,1,1,1,1,1,1,11],"kpq":[2,2,2,16,2,2,4,4,3,1,1,1,2,2,4,3,4,3,3,4,4,4,3,2,2,3,1,3,2,3,2,2,2,3,3,3,3,3,5,5,4,1,14,14,4,4,4,5,6,9,6,4,7,12,15,2,2,2,2,2,2,1,2,2,2,1,1,7,8,8,8,7,5,4,5,5,4,4,13,8],"kpqstr":[369,364,366,228,140,196,253,282,255,243,305,329,307,237,245,248,250,251,251,374,286,207,163,116,139,149,161,206,151,929,936,933,924,967,956,892,762,604,38,32,43,19,23,9,264,266,281,226,190,167,113,50,91,32,46,695,709,702,705,703,729,775,768,758,637,668,658,47,36,40,40,41,44,29,26,26,30,18,21,374],"cb":[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,2,4,4,4,3,3,4,4,4,3,3,3,3,3,3,3,4,3,5,3,3,3,3,3,3,3,4,4,3,3,3,3,3,2,2,15,16,13,11,10,9,10,10,10,10,11,12,24,25,24,23,24,0,0,0,0,0,0,0,14],"cg":[10,9,10,12,10,10,10,11,10,9,10,9,9,10,10,11,11,11,11,0,0,0,1,1,1,1,0,0,0,12,12,11,12,11,10,12,13,13,6,7,7,9,8,9,18,19,18,18,17,16,18,18,18,20,19,19,18,19,20,21,21,21,21,20,21,21,22,12,10,10,11,11,36,42,45,35,42,45,34,23],"cr":[1,1,1,1,2,2,2,2,1,1,1,1,2,1,1,2,2,2,2,28,28,29,26,27,27,27,27,27,26,12,12,13,13,13,13,13,15,17,16,17,18,17,15,15,12,11,10,9,9,10,11,12,12,13,14,20,21,22,23,23,23,22,23,24,25,24,22,23,24,24,23,22,15,17,18,19,19,18,20,5],"grayq":[4,4,5,5,4,4,3,3,4,4,5,6,5,2,2,1,2,2,2,7,8,8,8,8,8,8,8,8,8,8,8,8,8,9,8,8,8,8,1,1,1,1,1,1,15,15,15,16,1,2,1,1,1,1,1,5,5,6,7,7,7,7,7,8,8,8,8,10,10,10,11,11,3,4,4,4,3,4,16,2],"grayqstr":[9,9,7,7,7,6,6,6,5,4,5,6,4,5,6,7,7,7,7,10,10,11,13,12,11,11,11,12,13,5,6,6,6,6,5,6,10,8,33,35,37,38,39,40,5,7,8,9,12,12,12,11,11,11,12,9,10,9,10,10,10,11,11,10,9,9,9,13,16,20,17,17,13,20,31,26,20,9,10,27],"kpqc":[1,16,1,16,2,1,4,4,1,1,2,1,1,1,3,4,3,1,2,5,4,5,6,8,13,6,5,4,3,3,3,3,3,3,3,3,3,3,4,4,4,4,5,6,9,9,8,8,9,9,11,11,11,12,14,2,2,2,1,1,1,1,2,2,1,1,1,6,7,7,7,6,5,4,6,5,4,2,13,8],"kpqcstr":[90,120,171,118,39,100,118,91,65,139,166,188,161,74,61,64,55,45,44,134,99,113,29,38,6,19,30,80,13,338,337,338,335,337,345,321,217,183,23,28,36,26,23,15,239,289,293,271,250,240,242,219,227,231,54,264,275,287,282,271,286,303,265,287,270,283,274,9,3,7,4,10,23,13,17,17,15,7,16,78],"cbq":[11,10,9,10,12,11,13,13,13,12,12,11,11,11,10,10,10,10,10,15,15,15,14,15,15,15,15,14,15,14,14,14,15,15,15,14,15,16,10,11,11,10,10,10,7,7,7,7,8,9,10,9,9,9,10,16,16,1,2,2,2,2,2,2,3,3,2,1,1,1,1,1,2,1,2,1,4,4,4,1],"cbqstr":[2,1,2,3,3,4,4,4,4,5,5,8,7,6,7,7,6,6,6,6,20,28,29,28,27,27,25,29,30,6,6,6,7,8,7,11,15,14,25,21,14,6,9,8,13,12,14,13,4,5,6,6,7,4,4,28,30,26,25,26,27,28,26,28,35,35,30,106,105,108,112,115,4,1,1,2,0,0,0,68],"cgq":[8,8,9,8,8,8,8,7,8,8,8,8,8,7,7,6,6,7,7,4,8,8,8,8,8,8,8,7,7,11,11,10,10,10,11,11,11,11,16,15,15,15,15,15,2,2,2,2,2,2,2,2,2,3,3,15,15,15,15,16,16,15,15,15,15,16,16,10,10,9,9,10,15,14,13,13,14,16,1,9],'
            . '"cgqstr":[25,25,37,37,27,32,25,30,33,34,38,41,35,29,24,19,17,24,24,2,2,2,5,5,3,3,2,1,3,36,37,35,38,37,30,36,54,55,36,38,43,52,51,54,69,68,72,79,72,73,70,70,70,66,62,51,48,40,39,38,37,42,45,34,39,45,47,45,35,32,35,38,53,94,125,165,92,65,52,99],"crq":[2,2,3,2,2,2,3,2,3,3,3,3,3,2,2,2,2,1,1,8,8,8,8,8,8,8,8,8,8,3,3,3,3,3,3,3,4,4,1,1,1,1,1,1,15,15,15,16,16,16,15,15,15,15,15,1,2,1,16,16,16,16,16,16,16,16,2,7,7,7,7,7,5,4,4,5,5,4,5,15],"crqstr":[5,5,5,5,7,7,7,8,10,10,9,9,9,10,10,10,9,9,8,34,41,44,37,32,38,38,45,47,41,28,29,30,30,30,30,35,53,62,81,83,88,81,81,79,59,50,43,46,45,47,43,42,44,42,40,11,13,17,20,26,22,19,18,20,15,5,3,39,49,47,54,56,71,77,69,77,71,59,38,20]}');
    
    
    $aFilmy[12] = json_decode('{"kpc":[1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,5,4,4,5,5,5,5,4,4,4,5,4,2,2,2,2,2,14,14,14,14,14,14,14,2,1,1,2,2,2,1,3,3,3,3,3,4,3,3,2,2,2,1,1,2,2,11,9,9,7,7,6,6,6,6,2,3,2,2,2,2,1,1],"kpq":[11,10,10,9,9,9,8,12,12,12,12,12,12,12,12,12,11,10,10,11,11,11,11,10,10,11,11,10,10,4,4,4,4,4,15,15,15,15,15,15,15,12,10,11,10,11,11,11,5,6,6,7,8,8,4,4,4,4,4,4,4,4,4,12,13,13,13,13,16,2,15,12,12,12,12,12,11,10,9,7],"kpqstr":[61,54,51,58,69,67,67,67,76,67,62,65,73,58,66,61,48,125,121,110,94,95,104,90,90,100,103,101,112,54,64,60,58,51,420,417,372,373,410,320,307,58,56,55,60,57,59,53,61,48,43,33,43,68,93,88,63,63,74,43,48,55,59,259,188,214,113,101,72,71,63,176,56,43,54,55,47,41,11,5],"cb":[7,6,6,7,6,7,6,5,5,5,5,6,7,8,7,8,9,2,2,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,18,19,20,21,21,21,21,36,36,37,36,36,38,36,29,26,23,22,22,21,36,36,36,36,35,30,29,32,31,31,33,32,36,34,29,28,24,22,9,9,10,10,10,10,1,4],"cg":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,0,1,1,1,1,0,0,0,0,0,22,20,19,19,19,19,18,17,18,15,11,10,11,15,11,11,15,27,29,33,18,16,17,18,19,22,20,17,16,6,6,5,4,4,4,4,4,4,1,1,1,1,1,1,0,0],"cr":[9,10,12,13,15,18,22,12,12,12,13,13,13,13,13,12,12,36,37,37,39,40,42,42,44,45,46,46,47,47,47,47,47,48,9,9,9,9,9,9,9,2,3,4,5,8,9,7,10,8,8,8,8,6,7,7,7,7,7,7,9,10,13,11,12,13,14,13,15,16,13,12,47,48,47,47,46,45,76,72],"grayq":[8,8,8,8,8,8,8,4,4,4,4,3,2,4,4,3,2,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,16,16,16,16,16,13,12,12,11,9,9,10,7,7,7,6,4,4,14,14,14,14,13,13,13,13,12,13,14,15,14,12,12,14,15,13,16,16,16,16,16,16,4,4],"grayqstr":[23,23,23,23,25,25,24,2,2,2,2,2,2,2,2,3,4,14,14,16,16,17,18,19,21,23,24,25,25,26,26,26,26,26,27,27,26,25,25,25,25,35,40,29,21,26,32,30,30,27,24,18,16,11,55,50,46,44,37,36,37,36,32,24,17,22,18,13,14,9,9,9,18,17,17,18,20,20,12,12],"kpqc":[6,6,5,6,6,6,5,13,13,14,16,13,14,1,13,12,11,11,10,12,13,13,13,11,13,11,11,11,9,6,7,5,6,7,16,16,16,16,16,15,15,12,10,10,8,11,10,12,2,1,1,3,3,11,4,5,5,4,4,5,5,5,5,1,3,1,1,16,3,3,16,14,11,10,11,11,11,11,11,11],"kpqcstr":[4,11,19,30,39,46,62,19,20,14,12,14,21,12,12,17,18,24,40,39,36,31,35,12,26,16,21,20,25,14,12,20,29,14,200,203,214,230,231,231,240,76,49,21,25,38,47,49,19,20,10,29,7,22,94,78,64,64,57,50,33,32,49,103,91,70,77,105,106,110,24,37,53,47,55,57,62,65,17,14],"cbq":[10,10,9,9,9,10,9,8,8,8,8,8,8,9,9,9,9,4,4,3,3,3,2,3,2,2,2,2,2,2,2,2,2,2,13,13,13,13,13,14,14,8,8,8,8,8,8,8,14,15,15,16,16,16,1,1,1,1,2,2,2,2,2,16,16,16,16,16,16,16,1,1,7,7,7,7,7,7,15,15],"cbqstr":[41,39,37,37,36,35,25,23,24,23,23,25,27,26,25,30,32,8,9,8,8,9,8,9,10,11,11,13,13,14,15,17,17,19,55,57,58,58,56,55,54,89,139,152,153,144,162,164,79,73,76,80,85,82,138,143,145,148,144,146,142,144,140,48,49,42,47,42,33,26,25,22,47,46,47,47,47,46,11,28],"cgq":[4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,7,8,8,2,2,2,2,2,2,2,16,16,15,15,12,13,14,6,6,7,7,7,7,13,13,13,13,13,13,13,13,13,4,3,3,3,3,3,2,4,6,7,7,7,7,7,7,4,4],"cgqstr":[0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,7,5,5,5,4,4,5,4,5,5,5,5,4,4,4,4,3,52,50,50,44,42,40,34,47,75,70,47,34,34,34,60,50,75,147,151,155,28,34,44,57,64,79,58,39,35,17,16,13,13,10,9,4,3,9,11,11,11,11,11,11,0,0],"crq":[6,5,6,6,6,6,6,10,10,10,10,10,9,9,9,10,10,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,3,2,2,1,2,2,2,8,9,9,12,13,15,7,7,7,7,8,8,8,9,9,5,6,5,5,5,5,5,16,15,16,16,16,16,16,16,12,11],"crqstr":[30,34,39,45,58,73,87,51,52,53,52,50,49,51,41,37,36,65,69,78,83,85,93,103,110,119,127,129,132,138,140,141,139,136,32,32,31,31,29,30,30,10,20,26,31,40,52,42,25,17,6,9,8,5,44,40,37,39,40,39,43,48,61,10,10,21,28,29,26,14,10,6,121,122,123,125,128,131,73,63]}');
    $aFilmy[13] = json_decode('{"kpc":[4,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,5,5,4,5,10,9,8,8,8,8,15,14,14,14,13,12,12,0,0,0,0,0,0,4,5,4,3,3,3,3,4,3,5,5,5,5,5,5,5,5],"kpq":[12,12,12,11,11,11,11,11,11,11,11,12,13,13,15,16,11,11,12,12,12,9,9,9,10,10,9,10,10,9,10,3,3,3,3,4,4,5,5,5,5,5,9,4,14,14,13,13,13,14,7,7,7,6,5,5,4,13,13,13,13,13,13,16,16,16,2,2,2,2,3,2,8,8,9,9,9,9,9,9],"kpqstr":[128,116,113,96,101,85,83,75,81,72,74,19,18,20,10,8,97,87,105,114,119,15,16,16,17,18,16,16,14,18,15,18,9,3,3,7,19,30,30,32,123,102,42,96,226,181,215,206,267,238,135,133,98,94,75,118,100,14,12,10,12,9,6,142,156,119,124,100,109,131,159,117,128,132,117,118,105,112,93,118],"cb":[13,14,14,14,13,13,14,14,13,13,13,24,23,23,23,24,12,12,12,12,12,3,3,3,3,3,3,3,3,3,3,2,2,2,2,3,5,5,5,5,25,23,20,23,11,11,11,14,18,21,44,44,44,43,43,43,43,32,31,30,30,31,34,21,22,22,20,17,14,14,12,11,61,61,60,60,60,59,59,58],"cg":[4,4,4,4,4,4,4,4,4,4,3,0,0,0,0,0,6,5,5,5,5,21,19,19,19,19,19,19,19,20,20,5,4,5,5,4,14,13,12,12,2,2,1,2,5,5,5,5,4,3,28,29,29,30,31,33,33,0,0,0,0,0,0,50,50,50,49,44,44,45,47,47,0,0,0,0,0,0,0,0],"cr":[12,12,13,13,13,13,12,12,12,13,12,9,10,10,10,10,14,15,15,15,14,10,12,12,12,11,12,11,11,11,11,4,7,9,6,9,31,32,34,33,51,52,54,52,29,30,32,32,31,30,13,14,14,13,13,12,12,45,46,47,46,44,43,15,13,14,19,25,30,30,29,32,9,10,10,11,10,10,10,11],"grayq":[16,16,16,16,16,16,16,16,16,16,16,4,4,4,4,4,16,16,16,16,16,1,1,1,1,1,1,1,1,1,1,7,8,8,8,8,3,3,4,3,16,2,16,15,13,13,14,13,13,14,11,11,11,11,11,11,11,5,5,5,5,5,5,6,7,6,6,6,7,8,7,8,4,4,3,3,3,3,3,3],"grayqstr":[12,12,12,12,12,12,12,12,12,12,12,43,43,43,44,45,15,14,14,15,15,6,6,6,6,7,7,6,6,6,6,18,17,18,17,18,8,8,7,6,3,5,8,11,11,10,14,18,21,26,19,12,12,11,10,9,8,18,19,20,19,16,14,26,33,26,29,30,26,25,29,28,5,5,5,6,7,7,7,6],"kpqc":[13,13,13,13,13,14,14,14,14,14,15,3,2,2,2,2,14,14,13,13,13,12,12,11,11,11,11,11,12,11,11,4,4,3,3,4,16,1,1,1,7,7,8,5,15,13,12,14,13,13,4,4,4,4,4,4,4,14,13,13,13,13,13,14,14,13,1,11,16,2,3,3,13,2,14,14,14,14,13,13],"kpqcstr":[53,49,43,49,43,31,33,27,18,28,25,14,11,12,17,13,12,4,20,35,37,10,12,10,12,9,10,11,8,8,10,2,0,0,2,6,17,11,11,11,103,108,80,68,69,113,88,105,185,190,97,164,104,166,169,179,164,10,9,7,6,4,3,51,73,57,25,5,33,41,56,51,41,11,46,25,42,48,47,28],"cbq":[2,2,2,2,2,2,2,2,2,2,2,12,12,13,13,13,3,3,3,3,3,9,9,9,9,9,9,9,9,9,9,10,10,9,9,10,3,3,3,3,4,4,4,4,3,3,3,4,4,4,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,8,9,9,9,9,9,9,9,9],"cbqstr":[24,25,25,23,23,23,23,24,24,24,25,121,119,116,117,121,36,36,37,39,41,11,10,12,12,11,12,13,13,13,12,15,15,14,14,17,18,17,16,17,122,114,101,122,65,65,68,83,98,114,205,205,204,203,203,202,203,88,84,79,75,73,74,118,117,115,115,92,75,72,63,57,141,144,144,144,147,150,153,153],"cgq":[10,10,10,10,10,10,10,10,10,10,11,4,2,1,1,13,11,12,11,11,11,16,16,16,16,16,16,16,16,16,16,7,7,7,7,7,7,7,7,6,7,6,7,7,9,9,8,8,9,9,16,16,16,16,16,16,16,4,4,4,4,4,4,1,1,1,1,1,1,1,16,1,15,1,1,1,2,1,1,15],"cgqstr":[17,17,17,17,17,16,17,17,18,18,16,0,1,1,1,1,9,12,13,15,15,65,55,57,58,59,59,59,58,61,61,33,29,30,31,28,17,16,16,18,18,19,11,18,23,22,26,23,19,15,145,149,151,155,162,166,171,0,0,0,0,0,0,222,210,204,208,207,204,205,208,204,1,2,2,2,1,2,2,1],"crq":[15,15,15,14,15,15,14,14,14,14,14,12,12,13,13,13,15,14,14,14,14,12,13,13,13,13,13,13,13,13,13,8,7,6,6,6,16,16,16,15,13,13,12,12,12,13,14,13,14,13,2,2,2,2,2,2,2,13,13,13,13,12,12,11,11,11,11,11,9,9,9,9,16,16,16,16,16,16,16,16],'
            . '"crqstr":[6,6,7,8,7,8,11,13,13,14,12,24,32,30,29,29,14,17,18,16,14,31,40,36,38,38,37,35,37,35,35,22,45,53,38,50,46,47,50,51,194,191,186,188,46,38,47,51,61,69,48,49,47,46,44,40,36,62,68,72,69,64,61,86,77,77,108,104,96,93,104,110,13,17,19,18,17,18,17,18]}');
    
    $aFilmy[14] = json_decode('{"kpc":[19,19,19,19,19,19,18,18,18,18,18,18,18,17,15,12,12,13,14,12,13,13,13,13,12,15,15,16,16,15,15,15,15,15,15,15,15,14,15,15,17,16,16,16,17,16,17,17,16,16,16,17,15,16,17,17,17,17,22,18,18,13,12,12,11,11,9,9,9,11,12,13,9,11,11,11,12,11,10,11],"kpq":[6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,10,9,10,10,10,9,9,10,10,9,9,9,9,9,9,9,9,9,9,9,10,9,9,9,9,9,10,9,9,9,9,10,9,9,10,10,9,9,9,9,9,8,9,10,8,8,8,11,11,9,10,11,11,9,9,10,11,12,10,9,9,9,9,9,9],"kpqstr":[146,146,144,147,151,154,158,161,155,146,88,142,149,111,171,266,268,262,264,267,267,238,270,309,263,344,337,333,336,339,342,343,316,345,382,383,350,352,381,355,351,413,438,373,377,364,358,374,394,355,354,418,394,469,412,416,358,418,431,335,370,130,75,125,79,107,102,138,182,142,195,205,153,117,125,98,98,172,165,136],"cb":[41,41,41,41,41,41,41,41,41,41,41,41,41,41,22,19,19,18,19,19,17,16,16,17,17,13,13,13,15,13,12,12,13,14,13,13,14,13,13,13,13,11,13,12,12,12,12,12,13,12,12,12,13,13,13,13,13,13,23,13,14,13,9,5,4,4,5,5,6,6,7,6,6,7,7,8,7,7,6,7],"cg":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,2,2,1,2,2,2,1,1,1,2,1,2,2,2,2,1,2,1,1,2,1,2,2,1,2,1,2,1,1,2,2,1,1,1,1,1,0,1,1,1,1,1,1,2,1,1,1,2,2,2,2,2,2,1,1,1,2,2],"cr":[13,13,13,13,13,13,13,13,13,13,13,13,13,13,37,55,55,54,53,53,56,56,56,54,56,56,56,55,57,57,58,55,56,56,56,54,54,57,55,58,56,56,55,58,55,57,56,56,54,57,59,54,55,56,55,57,56,57,42,59,57,60,64,69,67,69,68,69,63,63,60,60,61,61,61,61,61,61,63,61],"grayq":[4,4,4,4,4,4,4,4,4,4,4,4,4,3,6,9,10,9,9,9,9,9,10,10,10,9,8,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,8,8,7,8,6,6,7,7,6,8,7,7,8,8,8,8,8,8,8,8,8],"grayqstr":[12,12,12,12,12,12,12,12,12,12,12,12,12,12,5,14,14,14,16,20,16,17,18,17,18,19,16,18,13,17,18,17,13,17,19,17,18,16,20,18,18,18,19,21,19,20,21,21,22,23,21,23,23,22,21,21,20,17,15,17,17,12,14,9,11,9,2,4,11,15,15,15,14,16,20,18,17,17,17,19],"kpqc":[2,2,2,2,2,2,2,3,2,2,2,2,3,3,3,13,11,12,12,12,13,12,13,12,12,12,12,12,13,14,13,12,16,16,13,13,13,13,12,13,13,13,12,14,14,14,14,13,14,13,13,12,12,12,12,12,14,14,14,1,16,16,16,14,14,13,13,14,14,14,16,15,14,13,14,15,15,14,15,14],"kpqcstr":[259,263,256,256,264,264,262,281,259,259,259,254,268,263,197,142,62,67,138,134,134,86,151,149,123,46,58,92,112,39,87,49,52,62,101,80,104,10,89,81,160,129,87,36,64,137,94,127,50,177,100,52,54,85,64,129,39,100,190,67,92,76,90,104,73,88,30,71,9,100,55,128,122,142,119,114,111,72,94,82],"cbq":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,1,1,1,1,1,1,1,1,1,16,1,16,16,16,1,1,1,1,1,1,16,1,1,1,1,16,16,1,1,1,16,16,16,16,16,16,16,1,1,1,16,12,1,1,16,16,9,9,8,7,8,8,8,8,8,8,8,8,8,8,8,9,9],"cbqstr":[40,42,41,41,41,42,42,41,41,41,42,42,44,46,57,45,47,48,45,45,54,51,52,49,49,30,31,28,17,26,29,27,25,26,31,29,29,36,31,35,39,38,31,36,36,33,34,35,28,33,35,35,33,30,28,29,20,22,24,20,19,39,13,14,10,5,12,14,15,10,17,16,17,16,17,19,16,18,13,18],"cgq":[1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,8,9,9,8,9,8,8,8,8,8,8,8,8,7,8,7,7,6,8,8,7,8,7,8,8,8,8,8,8,8,8,8,7,8,7,8,8,8,8,6,8,8,8,2,8,8,9,7,8,10,9,9,9,9,10,9,9,8,8,8,7,8,8,9,8],'
            . '"cgqstr":[3,3,3,3,3,3,3,3,3,3,3,3,2,3,3,2,5,5,5,5,4,4,6,6,4,5,6,6,1,3,4,7,4,9,8,9,5,6,6,4,4,6,4,4,6,2,5,5,4,4,3,5,5,4,2,3,3,3,4,2,3,3,3,3,8,10,10,6,5,7,5,5,4,5,4,3,2,2,4,4],"crq":[11,11,11,11,11,11,11,11,11,11,11,11,11,11,9,8,9,8,8,8,8,9,8,8,8,9,8,9,8,8,8,9,9,9,8,8,8,8,9,9,8,8,8,8,9,9,9,8,8,8,8,8,8,8,9,9,9,9,7,9,9,9,9,11,16,14,15,14,13,8,8,9,8,8,9,9,8,8,8,9],"crqstr":[44,44,44,44,44,44,44,44,44,44,44,42,43,45,77,53,54,53,49,52,60,62,51,45,58,51,49,46,51,46,55,53,53,50,48,41,45,65,55,72,63,56,54,70,57,59,57,53,55,62,67,56,56,55,54,64,50,51,43,62,53,68,41,8,6,9,22,18,6,10,2,13,12,14,24,25,24,20,18,11]}');
    
    
    $aFilmy[1] = json_decode('{"kpc":[],"kpq":[],"kpqstr":[],"cb":[],"cg":[],"cr":[],"grayq":[],"grayqstr":[],"kpqc":[],"kpqcstr":[],"cbq":[],"cbqstr":[],"cgq":[],"cgqstr":[],"crq":[],"crqstr":[]}'); 
    $aFilmy[2] = json_decode('{"kpc":[],"kpq":[],"kpqstr":[],"cb":[],"cg":[],"cr":[],"grayq":[],"grayqstr":[],"kpqc":[],"kpqcstr":[],"cbq":[],"cbqstr":[],"cgq":[],"cgqstr":[],"crq":[],"crqstr":[]}');
    $aFilmy[4] = json_decode('{"kpc":[],"kpq":[],"kpqstr":[],"cb":[],"cg":[],"cr":[],"grayq":[],"grayqstr":[],"kpqc":[],"kpqcstr":[],"cbq":[],"cbqstr":[],"cgq":[],"cgqstr":[],"crq":[],"crqstr":[]}');
    $aFilmy[6] = json_decode('{"kpc":[],"kpq":[],"kpqstr":[],"cb":[],"cg":[],"cr":[],"grayq":[],"grayqstr":[],"kpqc":[],"kpqcstr":[],"cbq":[],"cbqstr":[],"cgq":[],"cgqstr":[],"crq":[],"crqstr":[]}');
    $aFilmy[5] = json_decode('{"kpc":[],"kpq":[],"kpqstr":[],"cb":[],"cg":[],"cr":[],"grayq":[],"grayqstr":[],"kpqc":[],"kpqcstr":[],"cbq":[],"cbqstr":[],"cgq":[],"cgqstr":[],"crq":[],"crqstr":[]}');
    $aFilmy[8] = json_decode('{"kpc":[],"kpq":[],"kpqstr":[],"cb":[],"cg":[],"cr":[],"grayq":[],"grayqstr":[],"kpqc":[],"kpqcstr":[],"cbq":[],"cbqstr":[],"cgq":[],"cgqstr":[],"crq":[],"crqstr":[]}');
    $aFilmy[10] = json_decode('{"kpc":[],"kpq":[],"kpqstr":[],"cb":[],"cg":[],"cr":[],"grayq":[],"grayqstr":[],"kpqc":[],"kpqcstr":[],"cbq":[],"cbqstr":[],"cgq":[],"cgqstr":[],"crq":[],"crqstr":[]}');
    
    foreach ( $aFilmy AS $key=>$aFilm ){
        var_dump_spec("filmid: $key objcount: " . count( $aFilm ) );
        
    }
    
        return $aFilmy;
    }


    
    
    
    function modifyFilmDatasToSlices( $aFilmy, $frame_s, $frame_e, $probeFramesCount, $stage ){
//        var_dump_spec( "stage: $stage fs:$fra fe" );
        $aFilmyAsset = array(); 
        for( $filmid=0; $filmid<=14; $filmid++ ){  
            $aFilmAsset = array();
            $oFilmObj = $aFilmy[$filmid];
            if ( count($oFilmObj) == 0 ){
                continue;
            }
//            var_dump_spec($oFilmObj);
            $aFilmAsset["kp"] = array_slice($oFilmObj->kpc, $frame_s, $frame_e); 
            changeCountToDif( $aFilmAsset, "kp", "kpDif" ); 

            $aFilmAsset["q"] = array_slice($oFilmObj->kpq, $frame_s, $frame_e);
            $aFilmAsset["qstr"] = array_slice($oFilmObj->kpqstr, $frame_s, $frame_e);
            $aFilmAsset["qc"] = array_slice($oFilmObj->kpqc, $frame_s, $frame_e);
            $aFilmAsset["qcstr"] = array_slice($oFilmObj->kpqcstr, $frame_s, $frame_e);
            
            $aFilmAsset["colorB"] = array_slice( $oFilmObj->cb, $frame_s, $frame_e);
            $aFilmAsset["colorG"] = array_slice($oFilmObj->cg, $frame_s, $frame_e);
            $aFilmAsset["colorR"] = array_slice($oFilmObj->cr, $frame_s, $frame_e);
        
            $aFilmAsset["qcolorB"] = array_slice( $oFilmObj->cbq, $frame_s, $frame_e);
            $aFilmAsset["qcolorBstr"] = array_slice( $oFilmObj->cbqstr, $frame_s, $frame_e);
            $aFilmAsset["qcolorG"] = array_slice( $oFilmObj->cgq, $frame_s, $frame_e);
            $aFilmAsset["qcolorGstr"] = array_slice( $oFilmObj->cgqstr, $frame_s, $frame_e);
            $aFilmAsset["qcolorR"] = array_slice( $oFilmObj->crq, $frame_s, $frame_e);
            $aFilmAsset["qcolorRstr"] = array_slice( $oFilmObj->crqstr, $frame_s, $frame_e);
            
       
            $aFilmAsset['combos']["kpCombo"] = array();
       
            if( count($aFilmAsset["kp"]) ) 
          for( $i=0; $i<50-$probeFramesCount+1; $i++ ){
              $aSliced = array_slice( $aFilmAsset["kp"], $i, $probeFramesCount );
              $aFilmAsset['combos']["kpCombo"][] = $aSliced;
              $aSliced = array_slice( $aFilmAsset["kpDif"], $i, $probeFramesCount );
              $aFilmAsset['combos']["kpComboDif"][] = $aSliced;


              $aSliced = array_slice( $aFilmAsset["q"], $i, $probeFramesCount );
              $aFilmAsset['combos']["q"][] = $aSliced;
              $aSliced = array_slice( $aFilmAsset["qstr"], $i, $probeFramesCount );
              $aFilmAsset['combos']["qstr"][] = $aSliced;
              
              $aSliced = array_slice( $aFilmAsset["qc"], $i, $probeFramesCount );
              $aFilmAsset['combos']["qc"][] = $aSliced;
              $aSliced = array_slice( $aFilmAsset["qcstr"], $i, $probeFramesCount );
              $aFilmAsset['combos']["qcstr"][] = $aSliced;
              
              
              $aSliced = array_slice( $aFilmAsset["colorB"], $i, $probeFramesCount );
              $aFilmAsset['combos']["colorB"][] = $aSliced;
              $aSliced = array_slice( $aFilmAsset["colorG"], $i, $probeFramesCount );
              $aFilmAsset['combos']["colorG"][] = $aSliced;
              $aSliced = array_slice( $aFilmAsset["colorR"], $i, $probeFramesCount );
              $aFilmAsset['combos']["colorR"][] = $aSliced;
              
              $aSliced = array_slice( $aFilmAsset["qcolorB"], $i, $probeFramesCount );
              $aFilmAsset['combos']["qcolorB"][] = $aSliced;
              $aSliced = array_slice( $aFilmAsset["qcolorG"], $i, $probeFramesCount );
              $aFilmAsset['combos']["qcolorG"][] = $aSliced;
             $aSliced = array_slice( $aFilmAsset["qcolorR"], $i, $probeFramesCount );
              $aFilmAsset['combos']["qcolorR"][] = $aSliced;
               $aSliced = array_slice( $aFilmAsset["qcolorBstr"], $i, $probeFramesCount );
              $aFilmAsset['combos']["qcolorBstr"][] = $aSliced;
              $aSliced = array_slice( $aFilmAsset["qcolorGstr"], $i, $probeFramesCount );
              $aFilmAsset['combos']["qcolorGstr"][] = $aSliced;
              $aSliced = array_slice( $aFilmAsset["qcolorRstr"], $i, $probeFramesCount );
              $aFilmAsset['combos']["qcolorRstr"][] = $aSliced;
              
              
          }

          
          $aFilmyAsset[] = $aFilmAsset;
      }
      
//      var_dump( $aFilmyAsset );
      return $aFilmyAsset;
    }
    

    
    

   
    
//    
//    echo json_encode( $aHitCountsProp, JSON_FORCE_OBJECT );
    
    function przetestujColory( $aProbka, $aFilmyAsset, $probeFramesCount ){
        $aZgodnosci = array();
        for ( $filmid=0; $filmid<=14; $filmid++){
            $aCombos = $aFilmyAsset[$filmid]["combos"];
//            $aB = getCorrectRangesG($aCombos, $aProbka, $probeFramesCount, 10, 20, "colorB", $filmid);
            $aG = getCorrectRangesG($aCombos, $aProbka, $probeFramesCount, 10, 20, "colorG", $filmid);
            $aR = getCorrectRangesG($aCombos, $aProbka, $probeFramesCount, 10, 20, "colorR", $filmid);

            
//            var_dump( $aR );
            
            $aGR = array_intersect_key($aG, $aR);
            $aAll = $aGR;
            
//            $aAll = array_intersect_key($aBG, $aR);
//            foreach ($aAll as $key => $value) {
//                echo "$key,";
//            }
//            if ( count($aAll) ){
//            var_dump_spec("PROBKA film $filmid:   B:" . count($aB) . "  G:". count($aG) . "  R:" . count($aR) . 
//                    " => ALL:" . count($aAll ) );
//            }

            $aZgodnosci[$filmid] = $aAll;
        }
        
        return $aZgodnosci;
    }
    
    
    
    function testFilmyProbka( $aProbka, $aFilmyAsset, $probeFramesCount, $aFilmyAssetCENTER ){
//        if ( $stage == 1){
//            $aProbka['q'] = $aProbka['qc'];
//            $aProbka['qstr'] = $aProbka['qcstr'];
//        }
        
        
        $aZgodneKolory = przetestujColory($aProbka, $aFilmyAsset, $probeFramesCount);
        $aZgodneQ = przetestujQ($aProbka, $aFilmyAsset, $probeFramesCount, 0);
        $aZgodneQSTR = przetestujQSTR($aProbka, $aFilmyAsset, $probeFramesCount, 0);
        
        $c = 0;    
        $aResp = array();
        for ( $filmid=0; $filmid<=14; $filmid++ ){
            var_dump_spec("ZGODNOSC KOLOR + Q + QSTR dla filmu: $filmid:" . count($aZgodneKolory[$filmid]) . " " . count($aZgodneQ[$filmid]) . " " . count($aZgodneQSTR[$filmid])  );
        
            $aX = array_intersect_key($aZgodneKolory[$filmid], $aZgodneQ[$filmid]);
//            $aX2 = array_intersect_key($aX, $aZgodneQSTR[$filmid]);
            $aX2 = $aX;
            
            if( count($aX2) ){
                $aResp[$filmid] = $aX2;
                var_dump_spec("ZGODNOSC KOLOR + Q + QSTR dla filmu: $filmid:" . count($aX2) );
                $c += count($aX2);
            }
        }
        
        if( count($aResp) > 1 ){
            var_dump_spec("START STAGE 1 - Q+STR CENTER ONLY");
    
            $aProbka['q'] = $aProbka['qc'];
            $aProbka['qstr'] = $aProbka['qcstr'];
            
            $aZgodneQ = przetestujQ($aProbka, $aFilmyAsset, $probeFramesCount, 1);
            $aZgodneQSTR = przetestujQSTR($aProbka, $aFilmyAsset, $probeFramesCount, 1);
            $cS1 = 0;    
            $aRespStage1 = array();
             for ( $filmid=0; $filmid<=14; $filmid++ ){
              
                $aXStage1 = array_intersect_key($aZgodneKolory[$filmid], $aZgodneQ[$filmid]);
                $aX2Stage1 = array_intersect_key($aXStage1, $aZgodneQSTR[$filmid]);
                
                if( count($aX2Stage1) ){
                    $aRespStage1[$filmid] = $aX2Stage1;
                    var_dump_spec("ZGODNOSC CENTER KOLOR + Q + QSTR dla filmu: $filmid: " . 
                        " KOLOR:" . count($aZgodneKolory[$filmid]) . 
                        " Q:" . count($aZgodneQ[$filmid]) . 
                        " QSTR:" . count($aZgodneQSTR[$filmid]) . 
                        " ALL:" . count($aX2Stage1) );
                    $cS1 += count($aX2Stage1);
                }
                
                
             }
             
            
             $aRespAfterStage1 = array();
            
             for ( $filmid=0; $filmid<=14; $filmid++ ){
                 if ( is_array($aResp[$filmid]) && is_array($aRespStage1[$filmid])){
                    $aRespAfterStage1[$filmid] = array_intersect_key($aResp[$filmid], $aRespStage1[$filmid]);
                 }
             }
             if( count($aRespAfterStage1) == 0 ){
                 echoJson( $aResp, "0_MORE_1_ZERO" );
             }
             elseif( count($aRespAfterStage1) == 1){
                 echoJson( $aResp, "0_MORE_1_ONE" );
             }
             elseif( count($aRespAfterStage1) > 1 ){
                 var_dump_spec("START STAGE 2 - COLOR VECTOR Q + STR");
                 
                 $aZgodneColorGQ = przetestujColorQ($aProbka, $aFilmyAsset, $probeFramesCount, "qcolorG", "qcolorGstr");
                 $aZgodneColorRQ = przetestujColorQ($aProbka, $aFilmyAsset, $probeFramesCount, "qcolorR", "qcolorRstr");
                 
                 $aRespStage2 = array();
                $aRespAfterStage2 = array(); 
                for ( $filmid=0; $filmid<=14; $filmid++ ){
                       $aXStage2 = array_intersect_key($aZgodneColorGQ[$filmid], $aZgodneColorRQ[$filmid]);
                       $aRespStage2[$filmid] = $aXStage2;
                 var_dump_spec("ZGODNOSC STAGE 2 dla filmu: $filmid: " . 
                         " KOLORG:" . count($aZgodneColorGQ[$filmid] ) . 
                         " KOLORR:" . count($aZgodneColorRQ[$filmid] ) .
                        " ALL:" . count($aXStage2) );   
            
                        if ( is_array($aRespAfterStage1[$filmid]) && is_array($aRespStage2[$filmid])){
                            $aRespAfterStage2[$filmid] = array_intersect_key($aRespAfterStage1[$filmid], $aRespStage2[$filmid]);
                        }
                 
                }    
                 
                if ( count($aRespAfterStage2) == 0 ){
                    echoJson( $aRespAfterStage1, "0_MORE_1_MORE_2_ZERO" );
                }
                elseif ( count($aRespAfterStage2) == 1 ){
                    echoJson( $aRespAfterStage2, "0_MORE_1_MORE_2_ONE" );
                }
                else{
                    echoJson( $aRespAfterStage2, "0_MORE_1_MORE_2_MORE" );
                }
             }
        }
        else{
            echoJson( $aResp, "0_WYNIK" );
        }
    exit;
//        return $aAll;
    }
    
    function echoJson( $aResp, $msg ){
        $aReturn = array();
        $aReturn["msg"] = $msg;
        $aReturn["result"] = array_keys($aResp);
        echo json_encode( $aReturn, JSON_FORCE_OBJECT );
        exit;
    }
    
    
    
    function przetestujColorQ( $aProbka, $aFilmyAsset, $probeFramesCount, $colorKey, $colorStrKey ){
        $aZgodnosci = array();
        for ( $filmid=0; $filmid<=14; $filmid++ ){
                $aCombosFilm = $aFilmyAsset[$filmid]["combos"];
                $aRangesCorrectCombos = array(); 
        
//                var_dump_spec( $aProbka['qcolorB'] );
                
                
                for ( $set=0; $set<count($aCombosFilm[$colorKey]); $set++){
                    $aCombo = $aCombosFilm[$colorKey][$set];
                    $aComobStr = $aCombosFilm[$colorStrKey][$set];
                
                    
                    
                    $aBits = array();
                    foreach( $aCombo AS $ii=>$q ){
                        $qdiff = abs( $q - $aProbka[$colorKey][$ii] );
                        if ( $qdiff <= 2 || $qdiff >= 14  ){
                            $aBits[$ii] = 1;
                        }
                        else{
                            if ( $aComobStr[$ii] < 20 ){
                                $difstr = abs( $aComobStr[$ii] - $aProbka['qstr'][$ii]);
                                if ( $difstr < 20 ){
                                    $aBits[$ii] = 1;
                                }
                            }
                        }
                    }

                    if ( array_sum( $aBits ) >= $probeFramesCount - $delta  ){
                        $aRangesCorrectCombos[$set] = 1;
                    }
                }
                    
                    
            $aZgodnosci[$filmid] = $aRangesCorrectCombos;
                    
        }
       
//        var_dump_spec( $aZgodnosci );
       
        return $aZgodnosci;
        
    }
    
    function przetestujQSTR( $aProbka, $aFilmyAsset, $probeFramesCount, $stage ){
        $aZgodnosci = array();
        for ( $filmid=0; $filmid<=14; $filmid++){
            
            $aCombos = $aFilmyAsset[$filmid]["combos"];
            $aX = getCorrectRangesQSTR($aCombos, $aProbka, $probeFramesCount, 5, $filmid, $stage);
            
//            if (count($aX) > 0 || true  ){ var_dump_spec( "qstrtest: filmid: $filmid => ". count($aX) ); };
            $sumaKlatekWybranych += count($aX);
//            foreach ($aX as $key => $value) {
//                echo "$key,";
//            }
            $aZgodnosci[$filmid] = $aX;
        }
        return $aZgodnosci;
    }
    
    
    function getCorrectRangesQSTR( $aCombosFilm, $danezprobki, $probeFramesCount, $delta = 0, $filmid, $stage ){
        if ( $stage == 0 ){
            $keyq = "q";
            $keyqstr = "qstr";
        }
        
        if ( $stage == 1 ){
            $keyq = "qc";
            $keyqstr = "qcstr";
        }
        $aRangesCorrectCombos = array();  
        for ( $set=0; $set<count($aCombosFilm[$keyqstr]); $set++){
            $aCombo = $aCombosFilm[$keyqstr][$set];
            $aBits = array();
            foreach( $aCombo AS $ii=>$kpstr ){
                
                $qdiff = abs( $kpstr - $danezprobki[$keyqstr][$ii] );
                
//                var_dump_spec( "filmid: $filmid => set: $set " . $kpstr . " ??? " . $danezprobki['qstr'][$ii] . " => " . $qdiff );
                
//                if ( $kpstr $qdiff <= 100 ){
                    
//                }
                if ( $qdiff <= 100 ){
//                    var_dump_spec( "filmid: $filmid => set: $set " . $kpstr . " ??? " . $danezprobki['qstr'][$ii] . " => " . $qdiff );
                    $aBits[$ii] = 1;
                }
                elseif( $kpstr >= 250 && $qdiff <= $kpstr * 0.66 ){
                    $aBits[$ii] = 1;
                }
                elseif( $kpstr >= 500 && $qdiff <= $kpstr * 0.66 ){
                    $aBits[$ii] = 1;
                }
                elseif( $kpstr >= 750 && $qdiff <= $kpstr * 0.66 ){
                    $aBits[$ii] = 1;
                }
                elseif( $kpstr >= 1000 && $qdiff <= $kpstr * 0.66 ){
                    $aBits[$ii] = 1;
                }
                
                elseif( $kpstr >= 1000 && $danezprobki[$keyqstr][$ii] >= 500 ){
                    $aBits[$ii] = 1;
                }
                elseif( $kpstr <= 300 && $danezprobki[$keyqstr][$ii] <= 300 ){
                    $aBits[$ii] = 1;
                }
                else{
//                    if ( $filmid == 7)
//                        var_dump_spec( "filmid: $filmid => set: $set " . $kpstr . " ??? " . $danezprobki['qstr'][$ii] . " => " . $qdiff );
//                    }
                }
            }
            
            if ( array_sum( $aBits ) >= $probeFramesCount - $delta  ){
                $aRangesCorrectCombos[$set] = 1;
            }
        }
        return $aRangesCorrectCombos;
    }
    
    
    function przetestujQ( $aProbka, $aFilmyAsset, $probeFramesCount, $stage ){
       
        $aZgodnosci = array();
        for ( $filmid=0; $filmid<=14; $filmid++){
            $aCombos = $aFilmyAsset[$filmid]["combos"];
            $aX = getCorrectRangesQ($aCombos, $aProbka, $probeFramesCount, 5, $filmid, $stage);
            $aZgodnosci[$filmid] = $aX;
        }
        return $aZgodnosci;
    }
    
    function getCorrectRangesQ( $aCombosFilm, $danezprobki, $probeFramesCount, $delta = 0, $filmid, $stage ){
        $aRangesCorrectCombos = array(); 
        
        if ( $stage == 0 ){
            $keyq = "q";
            $keyqstr = "qstr";
        }
        
        if ( $stage == 1 ){
            $keyq = "qc";
            $keyqstr = "qcstr";
        }
        
        
            
        for ( $set=0; $set<count($aCombosFilm[$keyq]); $set++){
            $aCombo = $aCombosFilm[$keyq][$set];
            
            
            $aBits = array();
            foreach( $aCombo AS $ii=>$filmval ){
                
                $probkaval = $danezprobki[$keyq][$ii];
                $qdiff = abs( $filmval - $probkaval );
                
                if ( $qdiff <= 2 || $qdiff >= 14  ){
                    $aBits[$ii] = 1;
                }
                else{
                    if ( $aCombosFilm[$keyqstr][$set][$ii] < 100 ){
//                        if( $filmid == 4 ){
                            $difstr = abs($aCombosFilm[$keyqstr][$set][$ii] - $danezprobki[$keyqstr][$ii]);
                            if ( $difstr < 50 ){
                                $aBits[$ii] = 1;
                            }
//                            var_dump_spec( "filmid: $filmid => " . $aCombosFilm['qstr'][$set][$ii] . " ??? " . $danezprobki['qstr'][$ii] . " => " . $difstr );
//                        }
                    }
                }
            }
            
            if ( array_sum( $aBits ) >= $probeFramesCount - $delta  ){
                $aRangesCorrectCombos[$set] = 1;
            }
        }
        
        
        return $aRangesCorrectCombos;
    }
    
    /**
     *  COLOR !!!! START
     */
    
    /**
     * 
     * @param type $aCombosFilm
     * @param type $danezprobki
     * @param type $probeFramesCount
     * @param type $deltaBit
     * @param type $deltaColor
     * @param type $colorKey
     * @param type $filmid
     * @return int
     */
    
     function getCorrectRangesG( $aCombosFilm, $danezprobki, $probeFramesCount, $deltaBit = 0, $deltaColor = 10, $colorKey = "colorG", $filmid = 66 ){
//         var_dump_spec( $colorKey );
        $aRangesCorrectCombos = array();  
        for ( $set=0; $set<count($aCombosFilm[$colorKey]); $set++){
            $aCombo = $aCombosFilm[$colorKey][$set];
            $aBits = array();
//            if ( $film_id=5){
//                 var_dump_spec( "Test Color film 5" );
//           
//            }
            foreach( $aCombo AS $ii=>$val ){
                $cdiff = abs( $val - $danezprobki[$colorKey][$ii] );
                
    
                if ( $val >= 20 && $danezprobki[$colorKey][$ii] >= 20 ){
//                    var_dump_spec( "filmid: $filmid > set:$set ii:$ii " . $val . " ??? " . $danezprobki[$colorKey][$ii] . " => " . $cdiff . "($maxdifs2)" );
                    if ( $cdiff <= 60 ){ // w badanej probje nic nie dalo ale neich juz ostanie
                        $aBits[$ii] = 1;
                        
//                        var_dump_spec( "filmid: $filmid > set:$set ii:$ii " . $val . " ??? " . $danezprobki[$colorKey][$ii] . " => " . $cdiff . "($maxdifs2)" );
                    }
                    else{
//                        var_dump_spec( "filmid: $filmid > set:$set ii:$ii " . $val . " ??? " . $danezprobki[$colorKey][$ii] . " => " . $cdiff . "($maxdifs2)" );
                    }
                }
                
                elseif ( $val < 20 && $danezprobki[$colorKey][$ii] < 30 ){
                    
//                    if ( $cdiff <= 15 ){ // w badanej probce nic nie dalo...
                        $aBits[$ii] = 1;
//                    }
//                    else{
                        
//                        var_dump_spec( "filmid: $filmid > set:$set ii:$ii " . $val . " ??? " . $danezprobki[$colorKey][$ii] . " => " . $cdiff  );
//                    }
                }
                else{
                    if ( $cdiff <= 15 ){
//                        var_dump_spec( "filmid: $filmid > set:$set ii:$ii " . $val . " ??? " . $danezprobki[$colorKey][$ii] . " => " . $cdiff . "($maxdifs2)" );
                    }
                    else{
//                        var_dump_spec( "filmid: $filmid > set:$set ii:$ii " . $val . " ??? " . $danezprobki[$colorKey][$ii] . " => " . $cdiff . "($maxdifs2)" );
                    }
//                    var_dump_spec( "set:$set ii:$ii " . $val . " ??? " . $danezprobki[$colorKey][$ii] . " => " . $cdiff . "($maxdifs2)" );
                }
  
            }
//            
//        var_dump_spec("set: $set => " . array_sum( $aBits ) );
//            if ( $colorKey == "colorG" && $filmid == 9 ){
//                        var_dump_spec("filmid: $filmid > set: $set => " . array_sum( $aBits ) );
//            }
            if ( array_sum( $aBits ) >= $probeFramesCount - $deltaBit  ){
                $aRangesCorrectCombos[$set] = 1;
            }
        }
        if ( $colorKey == "colorB" && $filmid == 7 ){
//                        var_dump_spec($aRangesCorrectCombos );
            }
        return $aRangesCorrectCombos;
    }
    
    
    
    
     $time0 = time();
    #STEP 1
    # preapre oGlobaldatas contain mobile FP Data 
    $aFilmy = preapreFilmData(); 
         
    $probeFrameStart = 0;
    $probeFramesCount = 30;
    $stage = intval( json_decode( $_REQUEST['stage'] ) );
    
    $aFilmyAsset = modifyFilmDatasToSlices($aFilmy, $frame_s, $frame_e, $probeFramesCount, $stage);    
    
//    var_dump_spec( $aFilmyAsset[0]["combos"] );
//    $aFilmyCENTER = preapreFilmDataCenter();
//    $aFilmyAssetCENTER = modifyFilmDatasToSlices($aFilmyCENTER, $frame_s, $frame_e, $probeFramesCount, $stage);
    
    $sumaKlatekWybranych = 0;
    var_dump_spec( "Dane Filmow gotowe<hr/><hr/>" );
    
    $aZgodneSety = array();
    var_dump_spec( ":<hr/>Badana Probka :<hr/>" );
    $aDatas = json_decode($_REQUEST['data']);   
    $aPr = getProbka( $aDatas, $probeFrameStart, $probeFramesCount );
    
//    var_dump_spec($aPr );
    testFilmyProbka( $aPr, $aFilmyAsset, $probeFramesCount, $aFilmyAssetCENTER );
    
    exit;
    
    
    
    /**
     *  COLOR !!!! KONIEC
     */
    
    
    
    
    
    /*
     
    1: zwraca 1:{} [[11,17,21,23,23,26,22,19,22,10,17,18,20,23,26,26,27,12,20,15,26,26,10,16,13,21,20,18,6,8],[15,15,15,15,15,15,15,16,15,15,15,15,14,15,15,15,15,16,15,15,15,16,16,16,15,16,16,16,2,2],[434,756,880,1092,979,1153,926,760,932,433,702,810,874,991,1034,1028,1084,418,780,648,1038,1028,393,592,511,710,670,628,230,347],[2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,3,4,4,4,3,4,4,4,4,4,4,5,4,12,13],[61,61,63,62,60,59,59,59,58,56,57,60,57,56,53,54,53,53,53,56,55,55,55,56,59,57,56,56,40,39],[9,11,10,12,13,14,14,14,14,15,14,14,13,15,16,16,17,15,16,18,17,17,15,16,17,16,15,15,12,15],[14,14,15,14,14,14,14,14,14,14,14,13,13,13,13,13,13,13,14,13,13,13,13,12,12,11,12,13,3,2],[24,117,127,191,193,232,199,94,147,56,61,170,281,294,286,280,201,69,112,89,121,167,42,63,42,73,62,34,84,122],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,9,8,8,8,8,9,9],[2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8],[15,17,20,18,16,20,16,17,19,18,19,20,22,21,18,16,18,20,18,19,19,18,18,20,21,20,22,21,51,65],[71,99,119,133,141,157,157,143,151,153,148,153,166,155,141,141,128,130,138,152,149,144,149,148,155,156,163,173,198,197],[49,55,55,61,70,71,73,73,74,75,72,71,67,73,78,79,82,77,81,89,85,86,80,81,87,81,76,76,39,63]]
    5: zwraca 0 i 5 [[37,39,39,35,41,41,43,43,45,42,43,45,33,46,45,39,46,43,44,43,45,44,44,45,38,45,39,46,45,40],[16,16,16,1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[1372,1454,1403,1260,1460,1426,1510,1494,1553,1426,1596,1601,1224,1664,1640,1357,1617,1497,1571,1537,1603,1588,1519,1591,1344,1564,1382,1609,1559,1430],[33,33,33,32,33,33,33,33,32,32,32,33,32,33,33,33,33,33,33,32,33,33,33,33,33,33,33,33,33,33],[35,35,35,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],[6,6,6,5,6,6,6,6,6,6,6,6,5,5,6,6,6,6,5,5,6,5,6,6,5,5,6,6,6,6],[15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,1,1,16],[143,151,169,170,198,215,208,231,233,250,298,305,233,267,253,204,240,214,206,212,221,200,234,221,184,229,194,235,236,198],[9,9,9,9,9,9,9,9,9,9,9,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,9,9,9,9,9,9,9,9],[38,36,33,31,29,27,28,25,23,19,14,17,16,22,24,25,27,28,30,30,29,31,28,29,29,29,28,26,25,25],[93,93,95,98,100,102,101,106,106,110,112,112,110,108,105,103,101,100,97,97,100,99,101,99,100,100,100,102,104,104],[15,16,16,17,19,21,20,21,22,24,24,22,20,21,21,20,21,21,19,19,19,19,21,21,18,21,20,22,23,22]]
   
     
     
     
     
     
    
     */